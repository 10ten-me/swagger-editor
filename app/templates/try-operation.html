<div ng-controller="TryOperation">
  <h4>Request</h4>
  <div class="request">
    <div class="parameters" ng-repeat="parameter in parameters">
      <form sf-schema="parameter.schema" sf-form="parameter.form" sf-model="parameter.model"></form>
    </div>
    <div class="raw-request raw">
      <div class="line url">
        {{operation.operationName | uppercase}}
        <a href="{{generateUrl()}}" target="_blank">{{generateUrl()}}</a>
        {{httpProtorcol}}
      </div>
      <div>&nbsp;</div>
      <pre class="json-body">{{getRequestBody() | json}}</pre>
    </div>
    <button ng-click="makeCall()" class="{{$parent.operationName}} call"
      ng-disabled="xhrInProgress">
      <span ng-if="xhrInProgress">Sending...</span>
      <span ng-if="!xhrInProgress">Send Request</span>
    </button>
  </div>

  <h4>Response</h4>
  <div class="response">
    <div class="failed-bar" ng-if="failed">Failed</div>
    <tabset>
      <tab heading="Rendered">
        <h6>Headers</h6>
        <json-formatter json="{}"></json-formatter>
        <h6>Body</h6>
        <json-formatter json="{}"></json-formatter>
      </tab>
      <tab heading="Raw">
        <div class="status">{{httpProtorcol}} {{response.status}} {{response.statusText}}</div>
        <div class="resp-headers">{{response.getAllResponseHeaders()}}</div>
        <div class="raw-response raw" ng-if="response">
      </tab>
    </tabset>
    </div>
  </div>
</div>
