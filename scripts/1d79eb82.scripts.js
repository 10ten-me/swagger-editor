function Router(a,b,c){c.otherwise("/"),b.state("home",{url:"",views:{"":{templateUrl:"views/main.html",controller:"MainCtrl"},"header@home":{templateUrl:"views/header/header.html",controller:"HeaderCtrl"},"editor@home":{templateUrl:"views/editor/editor.html",controller:"EditorCtrl"},"preview@home":{templateUrl:"views/preview/preview.html",controller:"PreviewCtrl"}}}).state("home.path",{url:"/paths?path",views:{header:{templateUrl:"views/header/header.html",controller:"HeaderCtrl"},editor:{templateUrl:"views/editor/editor.html",controller:"EditorCtrl"},preview:{templateUrl:"views/preview/preview.html",controller:"PreviewCtrl"}}}),a.aHrefSanitizationWhitelist(".")}function MainCtrl(a,b){a.$on("$stateChangeStart",b.initializeEditor)}function HeaderCtrl(a,b,c,d,e,f,g,h){function i(a,b){var c="text/plain";b.load("specs").then(function(b){var d=angular.toJson(b,!0),e=new Blob([d],{type:c});a.jsonDownloadHref=window.URL.createObjectURL(e),a.jsonDownloadUrl=[c,"spec.json",a.jsonDownloadHref].join(":");var f=new Blob([jsyaml.dump(b)],{type:c});a.yamlDownloadHref=window.URL.createObjectURL(f),a.yamlDownloadUrl=[c,"spec.yaml",a.yamlDownloadHref].join(":")})}function j(a,b){$.ajax({type:"POST",contentType:"application/json",url:a,data:angular.toJson(b),processData:!1}).then(function(a){a instanceof Object&&a.code&&(window.location=h.downloadZipUrl+a.code)})}a.breadcrumbs=g.path?[{active:!0,name:g.path}]:[],a.showFileMenu=function(){return!h.disableFileMenu},a.newProject=function(){b.setValue(""),c.reset()},a.assignDownloadHrefs=function(){i(a,c)},a.generateZip=function(a,c){var d=_.template(h.apiGenUrl),e=d({type:a,kind:c}),f=jsyaml.load(b.getValue());j(e,f)},a.togglePane=function(a){d.toggle(a)},a.isPaneVisible=function(a){return d.isVisible(a)},a.openImportFile=function(){f.open({templateUrl:"templates/file-import.html",controller:"FileImportCtrl",size:"large"})},a.openImportUrl=function(){f.open({templateUrl:"templates/url-import.html",controller:"UrlImportCtrl",size:"large"})},a.openAboutEditor=function(){f.open({templateUrl:"templates/editor-about.html",controller:"UrlImportCtrl",size:"large"})},a.openExamples=function(){f.open({templateUrl:"templates/open-examples.html",controller:"OpenExamplesCtrl",size:"large"})}}function stringifySchema(a){if(!a)return"";var b="";if(a.type&&("array"===a.type?b="["+stringifySchema(a.items)+"]":a.type&&(b='"'+a.type+'"')),a.format)b+="("+a.format+")";else if("object"==typeof a.properties){var c="";for(var d in a.properties)c+="  "+buildProperty(d,a)+"\n";b+=c}else if("object"==typeof a&&1===Object.keys(a).length){var e=Object.keys(a)[0];"type"!==e&&(b+=e+": {\n"+stringifySchema(a[e])+"}")}return b}function buildProperty(a,b){var c=a+": "+stringifySchema(b.properties[a]);return"object"==typeof b.required&&b.required.indexOf(a)>-1&&(c+=" <required>"),c}function load(a){var b=null,c=null;try{b=JSON.parse(a)}catch(d){}if(!b)try{c=jsyaml.load(a)}catch(e){}return b?b:"object"==typeof c?c:null}function FileImportCtrl(a,b,c,d,e,f,g){var h;a.fileChanged=function(a){h=c.load(a)},a.ok=function(){"object"==typeof h&&(f.setValue(h),e.save("specs",h),g.reset()),b.close()},a.isInvalidFile=function(){return null===h},a.isFileSelected=function(){return!!h},a.cancel=b.close}function Editor(){function a(a){a?n.getSession().setAnnotations([{row:a.row,column:a.column,text:a.message,type:"error"}]):n.getSession().clearAnnotations()}function b(a){window.e=n=a,o.forEach(function(a){a(q)}),o=[];var b=n.getSession();b.on("changeFold",c),d(b)}function c(){var a=arguments;p.forEach(function(b){b.apply(n,a)})}function d(a){a.setTabSize(2)}function e(a){"string"==typeof a&&n.getSession().setValue(a),"object"==typeof a&&e(jsyaml.dump(angular.copy(a)))}function f(){return n.getSession().getValue()}function g(){n.resize()}function h(a){"function"==typeof a&&o.push(a)}function i(){var a=n.getSession(),b=null;return a.foldAll(),b=a.unfold(),Array.isArray(b)?b:[]}function j(a){return n.session.getLine(a)}function k(a){p.push(a)}function l(a,b){n.getSession().foldAll(a,b)}function m(a){n.getSession().unfold(a,100)}var n=null,o=[],p=[],q=this;this.getValue=f,this.setValue=e,this.aceLoaded=b,this.resize=g,this.ready=h,this.annotateYAMLErrors=a,this.getAllFolds=i,this.getLine=j,this.onFoldChanged=k,this.addFold=l,this.removeFold=m}function Builder(a,b){function c(a,b){var c;if(!a)return{specs:null,error:{emptyDocsError:{message:"Empty Document"}}};try{c=g(a)}catch(e){return{error:{yamlError:e},specs:null}}return d(c,b)}function d(c,d){if(d=d||{},!c)return{specs:null,error:{emptyDocsError:{message:"Empty Document"}}};try{a.resolve(c)}catch(e){return{error:{resolveError:e},specs:null}}d.resolve&&(c=a.resolve(c));var f={specs:c},g=b.validateSwagger(c);return g&&g.swaggerError&&(f.error=g),f}function e(a,b,c){var d,e=null;try{d=g(a)}catch(f){e={yamlError:f}}return e||(c.paths[b]=d[b]),{specs:c,error:e}}function f(a,b){return _.pick(a.paths,b)}var g=_.memoize(jsyaml.load);this.buildDocs=c,this.buildDocsWithObject=d,this.updatePath=e,this.getPath=f}function Validator(a){var b=Object.create(null);this.setStatus=function(a,c){b[a]=!!c},this.isValid=function(){for(var a in b)if(!b[a])return{valid:!1,reason:a};return{valid:!0}},this.reset=function(){b=Object.create(null)},this.validateYamlString=function(a){try{jsyaml.load(a)}catch(b){var c=b.message.replace("JS-YAML: ","");return{yamlError:{message:c,row:b.mark.line,column:b.mark.column}}}return null},this.validateSwagger=function(b,c){c=c||a;var d=tv4.validate(b,c);return d?null:{swaggerError:tv4.error}}}function FoldManager(a,b){function c(){_.defaults(b.findFolds(a.getValue()),h),e()}function d(){h=b.findFolds(a.getValue()),e()}function e(){i.forEach(function(a){a()})}function f(a){var b=h;if(!Array.isArray(a)||!a.length)throw new Error("Need path for fold in fold buffer");for(;a.length;){if(!b||!b.subFolds)return null;b=b.subFolds[a.shift()]}return b}function g(a,b){var c,d,e=null;if(a.start===b)return a;if(angular.isObject(a.subFolds))for(var f in a.subFolds)angular.isObject(a.subFolds)&&(c=a.subFolds[f],d=g(c,b),d&&(e=d));return e}var h=Object.create(null),i=[];a.ready(d),a.onFoldChanged(function(a){var b=a.data.start.row,d="remove"!==a.action,f=g(h,b);f&&(f.folded=d),c(),e()}),this.toggleFold=function(){var b=[].slice.call(arguments,0),d=f(b);d.folded?(a.removeFold(d.start+1),d.folded=!1):(a.addFold(d.start,d.end),d.folded=!0),c()},this.isFolded=function(){var a=[].slice.call(arguments,0),b=f(a);return b&&b.folded},this.onFoldStatusChanged=function(a){i.push(a)},this.reset=d,this.refresh=c}function FoldPointFinder(){function a(a,c,f){var g,h,i,j=Object.create(null),k=null;for(h=0;h<a.length;h++)if(i=a[h],i.substr(0,d)!==e){if(g=i.trim(),'"'===g[0]&&'"'===g[g.length-2]&&":"===g[g.length-1]&&(g=g.substring(1,g.length-2)+":"),!g||g.lastIndexOf(":")!==g.length-1)continue;":"===g[g.length-1]&&(g=g.substring(0,g.length-1)),null===k?(k={start:h+f,folded:!1,end:null},j[g]=k):(b(a,h,k,c,f),k={start:h+f,end:null},j[g]=k)}return b(a,h,k,c,f),j}function b(b,d,e,f,g){var h,i;null!==e&&(e.end=d-1+g,f>0&&(h=b.slice(e.start+1-g,e.end-g).map(c),i=a(h,f-1,e.start+1),_.isEmpty(i)||(e.subFolds=i)))}function c(a){return a.substring(d)}var d=2,e="  ";this.findFolds=function(b){var c=b.split("\n");return{subFolds:a(c,2,0)}}}function EditorCtrl(a,b,c,d,e,f){a.aceLoaded=c.aceLoaded,a.aceChanged=function(){e.load("specs").then(function(a){var g,h=c.getValue();g=b.path?d.updatePath(h,b.path,a):d.buildDocs(h),e.save("yaml",h),e.save("specs",g.specs),e.save("error",g.error),f.refresh()})},c.ready(function(){e.load("yaml").then(function(a){c.setValue(b.path?d.getPath(a,b.path):a)})}),$(document).on("pane-resize",c.resize.bind(c))}function PreviewCtrl(a,b,c,d,e){function f(a){e.path?(d.specs={paths:b.getPath(a,e.path)},d.isSinglePath=!0):d.specs=b.buildDocsWithObject(a,{resolve:!0}).specs}function g(a){d.error=a}a.addChangeListener("specs",f),a.addChangeListener("error",g),a.load("specs").then(function(a){a&&f(a)}),a.load("error").then(function(a){a&&g(a)}),c.onFoldStatusChanged(function(){_.defer(function(){d.$apply()})}),d.toggle=c.toggleFold,d.isCollapsed=c.isFolded,d.getEditPath=function(a){return"#/paths?path="+window.encodeURIComponent(a)},d.responseCodeClassFor=function(a){var b="default";switch(Math.floor(+a/100)){case 2:b="green";break;case 5:b="red";break;case 4:b="yellow";break;case 3:b="blue"}return b}}function Storage(a,b,c){return c.useBackendForStorage?b:a}function FileImportCtrl(a,b,c,d,e,f,g){var h;a.url=null,a.fetch=function(b){"string"==typeof b&&b.indexOf("http")>-1&&c.loadFromUrl(b).then(function(b){h=b,a.canImport=!0},function(b){a.error=b,a.canImport=!1})},a.ok=function(){"object"==typeof h&&(f.setValue(h),e.save("specs",h),g.reset()),b.close()},a.cancel=b.close}function OpenExamplesCtrl(a,b,c,d,e,f,g,h){g.files=f.exampleFiles,g.selectedFile=f.exampleFiles[0],g.open=function(f){a.loadFromUrl("spec-files/"+f).then(function(a){var f=b.buildDocsWithObject(a);d.setValue(f.specs),c.save("specs",f.specs),c.save("error",f.error),e.reset(),h.close()},h.close)},g.cancel=h.close}function Backend(a,b,c){function d(b){!f.error&&f.specs&&a.put(c.backendEndpoint,b)}var e=Object.create(null),f=Object.create(null),g=_.throttle(d,200);this.save=function(a,b){f[a]=b,Array.isArray(e[a])&&e[a].forEach(function(a){a(b)}),c.useYamlBackend&&"yaml"===a&&b?g(b):"specs"===a&&b&&g(f[a])},this.reset=noop,this.load=function(d){if("yaml"!==d){var e=b.defer();return d?e.resolve(f[d]):e.reject(),e.promise}return a.get(c.backendEndpoint).then(function(a){return c.useYamlBackend?(f.yaml=a.data,f.yaml):a.data})},this.addChangeListener=function(a,b){"function"==typeof b&&(e[a]||(e[a]=[]),e[a].push(b))}}function noop(){}_.templateSettings={interpolate:/\{(.+?)\}/g},window.PhonicsApp=angular.module("PhonicsApp",["ngCookies","ngResource","ngSanitize","ui.router","ui.ace","ui.bootstrap","ngStorage","ngSanitize","jsonFormatter","hc.marked"]),PhonicsApp.config(["$compileProvider","$stateProvider","$urlRouterProvider",Router]),PhonicsApp.controller("MainCtrl",["$rootScope","Editor",MainCtrl]),PhonicsApp.controller("HeaderCtrl",["$scope","Editor","Storage","Splitter","Builder","$modal","$stateParams","defaults",HeaderCtrl]),PhonicsApp.directive("splitterBar",["Splitter",function(a){function b(b){a.registerSide("left",b.offsetLeft),a.registerSide("right",window.innerWidth-b.offsetLeft-4)}var c=400;return{template:"",replace:!1,restrict:"E",link:function(d,e,f){function g(a){var c=a.pageX-i.offset().left,d=a.pageY-i.offset().top;c=c||window.innerWidth/2,d=d||window.innerHeight/2;var g=100;if("horizontal"in f){if(g>d||d>i.height()-g)return;h.trigger("pane-resize"),e.css("top",d),$("#"+f.topPane).css("height",d+e.height()),$("#"+f.bottomPane).css("height",i.height()-d)}else{if(g>c||c>i.width()-g)return;h.trigger("pane-resize"),e.css("left",c),$("#"+f.leftPane).css("width",c),$("#"+f.rightPane).css("width",i.width()-c-e.width()),b(e.get(0))}}var h=$(document),i=e.parent();"horizontal"in f||b(e.get(0)),a.addHideListener("left",function(){$("#"+f.leftPane).animate({width:0},c),$("#"+f.rightPane).animate({width:window.innerWidth},c,function(){h.trigger("pane-resize")}),e.hide()}),a.addShowListener("left",function(a){$("#"+f.leftPane).animate({width:a},c),$("#"+f.rightPane).animate({width:window.innerWidth-a-4},c,function(){$("#"+f.rightPane).css("overflow","auto"),e.show(),h.trigger("pane-resize")})}),a.addHideListener("right",function(){$("#"+f.rightPane).animate({width:0},c),$("#"+f.leftPane).animate({width:window.innerWidth},c,function(){h.trigger("pane-resize")}),e.hide()}),a.addShowListener("right",function(a){$("#"+f.rightPane).animate({width:a},c),$("#"+f.leftPane).animate({width:window.innerWidth-a},c,function(){$("#"+f.rightPane).css("overflow","auto"),e.show(),h.trigger("pane-resize")})}),e.on("mousedown",function(a){a.preventDefault(),h.on("mousemove",g),h.on("mouseup",function(){h.off("mousemove",g)})}),$(window).on("resize",_.throttle(g,300))}}}]),PhonicsApp.directive("onReadFile",["$parse",function(a){return{restrict:"A",scope:!1,link:function(b,c,d){var e=a(d.onReadFile);c.on("change",function(a){var c=new FileReader;c.onload=function(a){b.$apply(function(){e(b,{$fileContent:a.target.result})})},c.readAsText((a.srcElement||a.target).files[0])})}}}]),PhonicsApp.directive("path",function(){return{restrict:"E",replace:!0,templateUrl:"templates/path.html",scope:!1}}),PhonicsApp.directive("operation",[function(){return{restrict:"E",replace:!0,templateUrl:"templates/operation.html",scope:!1}}]),PhonicsApp.directive("dropdownMenu",function(){return{templateUrl:"templates/dropdown-menu.html",restrict:"E",transclude:!0,scope:{label:"@",onOpen:"="}}}),PhonicsApp.directive("schemaModel",function(){return{templateUrl:"templates/schema-model.html",restrict:"E",replace:!0,scope:{schema:"="},link:function(a){a.mode="model",a.getJson=function(){return a.schema},a.getString=function(){return stringifySchema(a.schema)}}}}),PhonicsApp.filter("markdown",["marked",function(a){return function(b){var c=null;return c=b.indexOf("\n")>-1?a(b):b}}]),PhonicsApp.filter("getResourceName",function(){return function(a){return a.resourcePath.replace(/\//g,"")}}),function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("require","linker"),ga("linker:autoLink",["wordnik.github.io","apigee.github.io","swagger.wordnik.com","editor.swagger.wordnik.com"]),ga("create","UA-51231036-1","auto",{allowLinker:!0}),ga("send","pageview"),PhonicsApp.directive("tryOperation",function(){return{templateUrl:"templates/try-operation.html",restrict:"E",replace:!0,scope:{operation:"="},link:function(a){function b(){var b={};return a.hasParams&&a.$parent.operation.parameters.filter(function(c){"header"===c.in&&a.paramModels[c.name]&&(b[c.name]=a.paramModels[c.name])}),b}function c(){return a.$parent.operation.consumes?a.$parent.operation.consumes:f.consumes}function d(){var b=window.location.protocol,c=f.host||window.location.host,d=f.basePath||"",e=a.$parent.$parent.pathName,g=_.template(e),h=a.hasParams?a.$parent.operation.parameters:[],i=h.reduce(function(b,c){return"path"===c.in&&(b[c.name]=a.paramModels[c.name]),b},{}),j=h.reduce(function(b,c){return"query"===c.in&&a.paramModels[c.name]&&(b[c.name]=a.paramModels[c.name]),b},{}),k=$.param(j);return b+"//"+c+d+g(i)+(k?"?"+k:"")}function e(){a.response=null,a.xhrInProgress=!0,a.failed=!1,$.ajax({url:a.generateUrl(),type:a.$parent.operationName,headers:_.extend({"Content-Type":a.contentType},b())}).fail(function(){a.failed=!0}).always(function(b){if(!b)return a.responseText="",a.xhrInProgress=!1,void a.$digest();var c;try{c=JSON.stringify(JSON.parse(b.responseText),null,2)}catch(d){c=b.responseText}a.responseText=angular.isString(c)&&0===c.indexOf("<?xml")?$("<div/>").text(c).html():c,a.response=b,a.xhrInProgress=!1,a.$digest()})}var f=a.$parent.$parent.$parent.$parent.specs;a.httpProtorcol="HTTP/1.1",a.paramModels={},a.hasParams=Array.isArray(a.$parent.operation.parameters),a.hasBody=a.hasParams&&a.$parent.operation.parameters.some(function(a){return"body"===a.in}),a.generateUrl=d,a.makeCall=e,a.getContentTypeHeaders=c,a.xhrInProgress=!1,a.getHeaderParams=b}}}),PhonicsApp.service("Splitter",function(){var a={left:{width:null,visible:!1,hideListeners:[],showListeners:[]},right:{width:null,visible:!1,hideListeners:[],showListeners:[]}},b=this;this.toggle=function(c){a[c].visible=!a[c].visible,a[c].visible?b.showPane(c):b.hidePane(c)},this.registerSide=function(b,c,d){a[b].width=c,a[b].visible=!d},this.addHideListener=function(b,c){a[b].hideListeners.push(c)},this.addShowListener=function(b,c){a[b].showListeners.push(c)},this.hidePane=function(b){a[b].hideListeners.forEach(function(a){a()})},this.showPane=function(b){a[b].showListeners.forEach(function(c){c(a[b].width)})},this.isVisible=function(b){return a[b]&&a[b].visible}}),PhonicsApp.service("FileLoader",["$http",function(a){this.loadFromUrl=function(b){return a.get(b).then(function(a){return load(a.data)})},this.load=load}]),PhonicsApp.controller("FileImportCtrl",["$scope","$modalInstance","FileLoader","$localStorage","Storage","Editor","FoldManager",FileImportCtrl]),PhonicsApp.service("Editor",[Editor]),PhonicsApp.service("Builder",["Resolver","Validator",Builder]),PhonicsApp.service("Validator",["defaultSchema",Validator]),PhonicsApp.service("FoldManager",["Editor","FoldPointFinder",FoldManager]),PhonicsApp.service("FoldPointFinder",[FoldPointFinder]),PhonicsApp.service("Resolver",function(){function a(c,d){if(d||(d=c),Array.isArray(c))return c.map(function(b){return a(b,d)});if("object"!=typeof c)return c;var e={};return Object.keys(c).forEach(function(f){e[f]=angular.isObject(c[f])&&c[f].$ref?b(c[f].$ref,d):a(c[f],d)}),e}function b(a,b){0!==a.indexOf("#/")&&0!==a.indexOf("http://")&&(a="#/definitions/"+a);for(var c,d=a.substring(2).split("/"),e=b;d.length;){if(c=d.shift(),!e[c])throw new Error("Can not lookup "+c+" in "+angular.toJson(e));e=e[c]}return e}this.resolve=a}),PhonicsApp.controller("EditorCtrl",["$scope","$stateParams","Editor","Builder","Storage","FoldManager",EditorCtrl]),PhonicsApp.controller("PreviewCtrl",["Storage","Builder","FoldManager","$scope","$stateParams",PreviewCtrl]),PhonicsApp.service("Storage",["LocalStorage","Backend","defaults",Storage]),PhonicsApp.service("LocalStorage",["$localStorage","$q",function(a,b){var c="SwaggerEditorCache",d=Object.create(null);a[c]=a[c]||Object.create(null),this.save=function(b,e){null!==e&&(Array.isArray(d[b])&&d[b].forEach(function(a){a(e)}),_.debounce(function(){window.requestAnimationFrame(function(){a[c][b]=e})},100)())},this.reset=function(){a[c]=Object.create(null)},this.load=function(d){var e=b.defer();return e.resolve(d?a[c][d]:a[c]),e.promise},this.addChangeListener=function(a,b){"function"==typeof b&&(d[a]||(d[a]=[]),d[a].push(b))}}]),PhonicsApp.config(["$provide",function(a){a.constant("defaultSchema",{title:"A JSON Schema for Swagger 2.0 API.",$schema:"http://json-schema.org/draft-04/schema#",type:"object",required:["swagger","info","paths"],definitions:{info:{type:"object",description:"General information about the API.",required:["version","title"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{version:{type:"string",description:"A semantic version number of the API."},title:{type:"string",description:"A unique and precise title of the API."},description:{type:"string",description:"A longer description of the API. Should be different from the title."},termsOfService:{type:"string",description:"The terms of service for the API."},contact:{type:"object",description:"Contact information for the owners of the API.",additionalProperties:!1,properties:{name:{type:"string",description:"The identifying name of the contact person/organization."},url:{type:"string",description:"The URL pointing to the contact information.",format:"uri"},email:{type:"string",description:"The email address of the contact person/organization.",format:"email"}}},license:{type:"object",required:["name"],additionalProperties:!1,properties:{name:{type:"string",description:"The name of the license type. It's encouraged to use an OSI compatible license."},url:{type:"string",description:"The URL pointing to the license.",format:"uri"}}}}},example:{type:"object",patternProperties:{"^[a-z0-9-]+/[a-z0-9-+]+$":{}},additionalProperties:!1},mimeType:{type:"string",pattern:"^[a-z0-9-]+/[a-z0-9-+]+$",description:"The MIME type of the HTTP message."},operation:{type:"object",required:["responses"],additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{tags:{type:"array",items:{type:"string"}},summary:{type:"string",description:"A brief summary of the operation."},description:{type:"string",description:"A longer description of the operation, markdown is allowed."},docsUrl:{type:"string",format:"uri",description:"Location of external documentation."},operationId:{type:"string",description:"A friendly name of the operation"},produces:{type:"array",description:"A list of MIME types the API can produce.",additionalItems:!1,items:{$ref:"#/definitions/mimeType"}},parameters:{type:"array",description:"The parameters needed to send a valid API call.",minItems:1,additionalItems:!1,items:{$ref:"#/definitions/parameter"}},responses:{$ref:"#/definitions/responses"},schemes:{type:"array",description:"The transfer protocol of the API.",items:{type:"string","enum":["http","https","ws","wss"]}}}},responses:{type:"object",description:"Response objects names can either be any valid HTTP status code or 'default'.",minProperties:1,additionalProperties:!1,patternProperties:{"^([0-9]+)$|^(default)$":{$ref:"#/definitions/response"},"^x-":{$ref:"#/definitions/vendorExtension"}}},response:{type:"object",required:["description"],properties:{description:{type:"string"},schema:{$ref:"#/definitions/schema"},headers:{type:"array",items:{$ref:"#/definitions/serializableType"}},examples:{$ref:"#/definitions/example"}},additionalProperties:!1},serializableType:{properties:{type:{type:"string","enum":["string","number","boolean","integer","array"]},format:{type:"string"},items:{type:"object"},collectionFormat:{type:"string"}}},vendorExtension:{description:"Any property starting with x- is valid.",additionalProperties:!0,additionalItems:!0},parameter:{type:"object",required:["name","in"],oneOf:[{patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{name:{type:"string",description:"The name of the parameter."},"in":{type:"string",description:"Determines the location of the parameter.","enum":["query","header","path","formData"],"default":"query"},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use."},required:{type:"boolean",description:"Determines whether or not this parameter is required or optional."},type:{type:"string","enum":["string","number","boolean","integer","array"]},format:{type:"string"},items:{type:"object"},collectionFormat:{type:"string"}},additionalProperties:!1},{patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{name:{type:"string",description:"The name of the parameter."},"in":{type:"string",description:"Determines the location of the parameter.","enum":["body"],"default":"body"},description:{type:"string",description:"A brief description of the parameter. This could contain examples of use."},required:{type:"boolean",description:"Determines whether or not this parameter is required or optional."},schema:{$ref:"#/definitions/schema"}},additionalProperties:!1}]},schema:{type:"object",description:"A deterministic version of a JSON Schema object.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{$ref:{type:"string"},format:{type:"string"},title:{$ref:"http://json-schema.org/draft-04/schema#/properties/title"},description:{$ref:"http://json-schema.org/draft-04/schema#/properties/description"},"default":{$ref:"http://json-schema.org/draft-04/schema#/properties/default"},multipleOf:{$ref:"http://json-schema.org/draft-04/schema#/properties/multipleOf"},maximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/maximum"},exclusiveMaximum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMaximum"},minimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/minimum"},exclusiveMinimum:{$ref:"http://json-schema.org/draft-04/schema#/properties/exclusiveMinimum"},maxLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minLength:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},pattern:{$ref:"http://json-schema.org/draft-04/schema#/properties/pattern"},discriminator:{type:"string"},xml:{$ref:"#/definitions/xml"},items:{anyOf:[{$ref:"#/definitions/schema"},{type:"array",minItems:1,items:{$ref:"#/definitions/schema"}}],"default":{}},maxItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minItems:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},uniqueItems:{$ref:"http://json-schema.org/draft-04/schema#/properties/uniqueItems"},maxProperties:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveInteger"},minProperties:{$ref:"http://json-schema.org/draft-04/schema#/definitions/positiveIntegerDefault0"},required:{$ref:"http://json-schema.org/draft-04/schema#/definitions/stringArray"},definitions:{type:"object",additionalProperties:{$ref:"#/definitions/schema"},"default":{}},properties:{type:"object",additionalProperties:{$ref:"#/definitions/schema"},"default":{}},"enum":{$ref:"http://json-schema.org/draft-04/schema#/properties/enum"},type:{$ref:"http://json-schema.org/draft-04/schema#/properties/type"},allOf:{type:"array",minItems:1,items:{$ref:"#/definitions/schema"}}}},xml:{properties:{namespace:{type:"string"},prefix:{type:"string"},attribute:{type:"boolean"},wrapped:{type:"boolean"}},additionalProperties:!1}},additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{swagger:{type:"number","enum":[2],description:"The Swagger version of this document."},info:{$ref:"#/definitions/info"},host:{type:"string",format:"uri",pattern:"^((?!\\://).)*$",description:"The fully qualified URI to the host of the API."},basePath:{type:"string",pattern:"^/",description:"The base path to the API. Example: '/api'."},schemes:{type:"array",description:"The transfer protocol of the API.",items:{type:"string","enum":["http","https","ws","wss"]}},consumes:{type:"array",description:"A list of MIME types accepted by the API.",items:{$ref:"#/definitions/mimeType"}},produces:{type:"array",description:"A list of MIME types the API can produce.",items:{$ref:"#/definitions/mimeType"}},paths:{type:"object",description:"Relative paths to the individual endpoints. They should be relative to the 'basePath'.",patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},additionalProperties:{type:"object",minProperties:1,additionalProperties:!1,patternProperties:{"^x-":{$ref:"#/definitions/vendorExtension"}},properties:{$ref:{type:"string"},get:{$ref:"#/definitions/operation"},put:{$ref:"#/definitions/operation"},post:{$ref:"#/definitions/operation"},"delete":{$ref:"#/definitions/operation"},options:{$ref:"#/definitions/operation"},head:{$ref:"#/definitions/operation"},patch:{$ref:"#/definitions/operation"},parameters:{type:"array",items:{$ref:"#/definitions/parameter"}}}}},definitions:{type:"object",description:"One or more JSON objects describing the schemas being consumed and produced by the API.",additionalProperties:{$ref:"#/definitions/schema"}},security:{type:"array"}}})}]),PhonicsApp.config(["$provide",function(a){a.constant("defaults",{downloadZipUrl:"http://generator.wordnik.com/online/api/gen/download/",apiGenUrl:"http://generator.wordnik.com/online/api/gen/{type}/{kind}",exampleFiles:["default.yaml","minimal.yaml","petstore.yaml","heroku-pets.yaml"],backendEndpoint:"/editor/spec",useBackendForStorage:!1,disableFileMenu:!1,useYamlBackend:!1})}]),PhonicsApp.directive("collapseWhen",function(){var a=200;return{restrict:"A",link:function(b,c,d){function e(){setTimeout(function(){c.removeAttr("style")},a)}var f=null;if(d.collapseWhen){var g=c.clone();g.removeAttr("style"),g.appendTo("body"),f=g.height(),g.remove()}b.$watch(d.collapseWhen,function(a){a?(f=c.height(),c.height(f),c.height(0),c.addClass("c-w-collapsed"),e()):(c.height(f),c.removeClass("c-w-collapsed"),e())})}}}),PhonicsApp.controller("UrlImportCtrl",["$scope","$modalInstance","FileLoader","$localStorage","Storage","Editor","FoldManager",FileImportCtrl]),PhonicsApp.controller("ErrorPresenterCtrl",["$scope",function(a){a.getError=function(){var b=a.$parent.error;return b&&b.swaggerError&&delete b.swaggerError.stack,b},a.getType=function(){var b=a.getError();return b.swaggerError?"Swagger Error":b.yamlError?"YAML Syntax Error":b.resolveError?"Resolve Error":b.emptyDocsError?"Empty Document Error":"Unknown Error"},a.getDescription=function(){var b=a.getError();return b.emptyDocsError?b.emptyDocsError.message:b.swaggerError&&"string"==typeof b.swaggerError.dataPath?b.swaggerError.message+" at\n"+b.swaggerError.dataPath.replace(/\//g," ▹ ").replace(" ▹ ","").replace(/~1/g,"/"):b.yamlError?b.yamlError.message.replace("JS-YAML: ","").replace(/./,function(a){return a.toUpperCase()}):b.resolveError?b.resolveError.message.replace(/ in \{.+/,""):b}}]),PhonicsApp.controller("OpenExamplesCtrl",["FileLoader","Builder","Storage","Editor","FoldManager","defaults","$scope","$modalInstance",OpenExamplesCtrl]),PhonicsApp.service("Backend",["$http","$q","defaults",Backend]);