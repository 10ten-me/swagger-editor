"use strict";function removeVendorExtensions(a){if(!angular.isObject(a))return a;var b={};return Object.keys(a).forEach(function(c){"x-"!==c.toLowerCase().substring(0,2)&&(b[c]=removeVendorExtensions(a[c]))}),b}function load(a){var b,c;if(!angular.isString(a))throw new Error("load function only accepts a string");try{JSON.parse(a)}catch(d){b=d}if(!b)return jsyaml.dump(JSON.parse(a));try{jsyaml.load(a)}catch(d){c=d}if(!c)return a;throw new Error("load function called with an invalid string")}window.SwaggerEditor=angular.module("SwaggerEditor",["ngCookies","ngResource","ngSanitize","ui.router","ui.ace","ui.bootstrap","ngStorage","ngSanitize","jsonFormatter","hc.marked","ui.layout","mohsen1.json-schema-view","schemaForm"]),angular.module("SwaggerEditor").run(["$templateCache",function(a){a.put("templates/about.html",'<div class="modal-header">\n  <h3 class="modal-title">About Swagger Editor</h3>\n</div>\n<div class="modal-body">\n  <p>Swagger Editor</p>\n  <p>Version 2.8.x</p>\n  <p><a href="https://github.com/swagger-api/swagger-editor" target="_blank">Github Project Page</a></p>\n  <div class="monospace">\n    <p>\n      Licensed under the Apache License, Version 2.0 (the "License");\n      you may not use this file except in compliance with the License.\n      You may obtain a copy of the License at <a href="http://www.apache.org/licenses/LICENSE-2.0">apache.org/licenses/LICENSE-2.0</a></p>\n    <p>\n      Unless required by applicable law or agreed to in writing, software\n      distributed under the License is distributed on an "AS IS" BASIS,\n      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n      See the License for the specific language governing permissions and\n      limitations under the License.\n    </p>\n  </div>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="close()">Close</button>\n</div>'),a.put("templates/auth/api-key.html",'<div class="modal-header">\n  <h3 class="modal-title">API Key Authentication</h3>\n</div>\n<div class="modal-body">\n  <form role="form" class="form-horizontal" ng-submit="authenticate()">\n    <div class="form-group">\n      <label class="col-sm-3">API Key</label>\n      <div class="col-sm-9">\n        <input type="text" class="form-control" placeholder="key" ng-model="apiKey">\n      </div>\n    </div>\n  </form>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\n  <button class="btn btn-primary" ng-click="authenticate()" ng-disabled="!apiKey">Authenticate</button>\n</div>'),a.put("templates/auth/basic.html",'<div class="modal-header">\n  <h3 class="modal-title">HTTP Basic Authentication</h3>\n</div>\n<div class="modal-body">\n  <form role="form" class="form-horizontal" ng-submit="authenticate()">\n    <div class="form-group">\n      <label class="col-sm-3">User Name</label>\n      <div class="col-sm-9">\n        <input type="text" class="form-control" placeholder="User Name" ng-model="username">\n      </div>\n    </div>\n    <div class="form-group">\n      <label class="col-sm-3">Password</label>\n      <div class="col-sm-9">\n        <input type="password" class="form-control" placeholder="Password" ng-model="password">\n      </div>\n    </div>\n  </form>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\n  <button class="btn btn-primary" ng-click="authenticate()" ng-disabled="!username || !password">Authenticate</button>\n</div>'),a.put("templates/auth/oauth2.html",'<div class="modal-header">\n  <h3 class="modal-title">OAuth 2.0 Authentication</h3>\n</div>\n<div class="modal-body">\n  <p>Please follow OAuth flow, copy access token from OAuth and paste it here.</p>\n  <form role="form" class="form-horizontal" ng-submit="authenticate()">\n    <div class="form-group">\n      <label class="col-sm-3">Access Token</label>\n      <div class="col-sm-9">\n        <input type="text" class="form-control" placeholder="access_token" ng-model="accessToken">\n      </div>\n    </div>\n  </form>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\n  <button class="btn btn-primary" ng-click="authenticate()" ng-disabled="!accessToken">Authenticate</button>\n</div>'),a.put("templates/code-gen-error-modal.html",'<div class="modal-header">\n  <h3 class="modal-title">Code Generator Error</h3>\n</div>\n<div class="modal-body">\n  <p>{{data.message}}</p>\n  <p>Details:</p>\n  <json-formatter json="data" class="json-formatter-dark"></json-formatter>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-warning" ng-click="cancel()">OK</button>\n</div>'),a.put("templates/download-docs.html",'<div class="modal-header">\n  <h3 class="modal-title">Download HTML documentation</h3>\n</div>\n<div class="modal-body">\n  <p>Click link below to download HTML documentations.</p>\n  <p>The downloaded file will be self contained with everything required for this Swagger document.</p>\n  <p ng-if="!ready">Generating document...</p>\n  <a ng-if="ready" download="swagger.html" href="{{downloadHref}}" downloadurl="{{downloadUrl}}" class="btn">Download</a>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-primary" ng-click="cancel()">Close</button>\n</div>'),a.put("templates/error-presenter.html",'<div class="error-presenter {{isOnlyWarnings() ? \'warning\' : \'error\'}}" ng-controller="ErrorPresenterCtrl">\n  <header class="error-header" ng-click="toggleCollapse()">\n    <h4>{{getTitle()}}</h4>\n    <span class="collapse-button">{{isCollapsed ? \'Open\' : \'Collapse\'}}</span>\n  </header>\n  <div ng-repeat="error in getErrors()" collapse-when="isCollapsed" class="item">\n    <h5 class="{{isWarning(error) ? \'warning\' : \'error\'}}">\n      <span class="icon">{{isWarning(error) ? \'⚠\' : \'✖\' }}</span>\n      {{getType(error)}}\n    </h5>\n    <p class="error-description">\n      <span>{{getDescription(error)}}</span>\n    </p>\n    <a ng-click="goToLineOfError(error)" ng-if="mode === \'edit\' && showLineJumpLink(error)">Jump to line {{getLineNumber(error)}}</a>\n    <h6>Details</h6>\n    <json-formatter json="error" open="0"></json-formatter>\n  </div>\n</div>'),a.put("templates/file-import.html",'<div class="modal-header">\n  <h3 class="modal-title">Import a File</h3>\n</div>\n<div class="modal-body">\n  <p>YAML or JSON formats are accepted</p>\n  <input on-read-file="fileChanged($fileContent)" type="file" ng-model="file">\n  <p class="invalid" ng-if="isInvalidFile()">Invalid File. Please use YAML or JSON.</p>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\n  <button class="btn btn-primary" ng-click="ok()" ng-disabled="isInvalidFile() || !isFileSelected()">Import</button>\n</div>'),a.put("templates/import.html",'<div class="modal-header">\n<h3 class="modal-title">Import a File</h3>\n</div>\n<div class="modal-body">\n  <p>YAML or JSON formats are accepted</p>\n  <input on-read-file="fileChanged($fileContent)" type="file" ng-model="file">\n  <p class="invalid" ng-if="isInvalidFile()">Invalid File. Please use YAML or</p>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\n  <button class="btn btn-primary" ng-click="ok()" ng-disabled="isInvalidFile() || !isFileSelected()">Import</button>\n</div>'),a.put("templates/intro.html",'<div class="about-pane">\n  <div class="modal-header">\n    <h1 class="overlay-title">API Design First Workflow</h1>\n    <h3>Easily create API specifications</h3>\n  </div>\n   <div class="file-arrow"></div>\n  <div class="sample">Try a sample here</div>\n  <button id="dismis-intro" class="btn btn-warning btn-close" ng-click="toggleAboutEditor(false)">\n  </button>\n  <div class="yaml-author">Write API specs in YAML...</div>\n  <div class="sw-preview">...Preview documentation in Swagger</div>\n  <button class="btn btn-warning btn-intro" ng-click="toggleAboutEditor(false)">Got it!</button>\n</div>'),a.put("templates/open-examples.html",'<div class="modal-header">\n  <h3 class="modal-title">Open An Example File</h3>\n</div>\n<div class="modal-body">\n  <p>Pick one of the examples</p>\n  <select ng-options="file for file in files" ng-model="selectedFile" autofocus></select>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\n  <button class="btn btn-primary" ng-click="open(selectedFile)">Open</button>\n</div>'),a.put("templates/operation.html",'<li class="{{operation.operationName | lowercase}} operation" scroll-into-view-when="isInFocus([\'paths\', path.pathName, operation.operationName])">\n  <header ng-click="toggle([\'paths\', path.pathName, operation.operationName])">\n    <a class="focus-editor" ng-click="focusEdit($event, [\'paths\', path.pathName, operation.operationName])" ng-if="mode === \'preview\'" tooltip-placement="left" tooltip="Jump to YAML"></a>\n    <div class="http-method" class="toggleOperation">{{operation.operationName | uppercase}} {{path.pathName}}</div>\n  </header>\n\n  <div class="content" collapse-when="isCollapsed([\'paths\', path.pathName, operation.operationName])">\n    <div class="tags">\n      <span class="tag tag-color-{{tagIndexFor(tag)}}" ng-repeat="tag in operation.tags">{{tag}}</span>\n    </div>\n    <section class="summary" ng-if="operation.summary">\n      <h4>Summary</h4>\n      <p>{{operation.summary}}</p>\n    </section>\n    <section class="description" ng-if="operation.description">\n      <h4>Description</h4>\n      <div marked="operation.description"></div>\n    </section>\n\n    <section class="parameters" ng-if="getParameters().length">\n      <h4>Parameters</h4>\n      <div>\n        <table class="params">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Located in</th>\n              <th>Description</th>\n              <th>Required</th>\n              <th>Schema</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-repeat="parameter in getParameters() track by $index">\n              <td>\n                <a ng-click="focusEdit($event, [\'paths\', path.pathName, operation.operationName, \'parameters\', $index], -1)">\n                  <span class="mono">{{parameter.name}}</span>\n                </a>\n              </td>\n              <td>{{parameter.in}}</td>\n              <td marked="parameter.description"></td>\n              <td>{{parameter.required ? \'Yes\' : \'No\'}}</td>\n              <td>\n                <schema-model schema="getParameterSchema(parameter)"></schema-model>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </section>\n\n    <section class="responses" ng-if="operation.responses">\n      <h4>Responses</h4>\n      <div>\n        <table class="respns">\n          <thead>\n            <tr>\n              <th>Code</th>\n              <th>Description</th>\n              <th>Schema</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr ng-repeat="response in operation.responses">\n              <td>\n                <a ng-click="focusEdit($event, [\'paths\', path.pathName, operation.operationName, \'responses\', response.responseCode])">\n                  <span class="resp-code {{responseCodeClassFor(response.responseCode)}}">{{response.responseCode}}</span>\n                </a>\n              </td>\n              <td>{{response.description}}</td>\n              <td>\n                <schema-model schema="response.schema"></schema-model>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </section>\n\n    <section class="security" ng-if="operation.security">\n      <h4>Security</h4>\n      <table class="security">\n        <thead>\n          <tr>\n            <th>Security Schema</th>\n            <th>Scopes</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="security in operation.security">\n            <td ng-repeat="(securityName, securityValues) in security">{{securityName}}</td>\n            <td ng-repeat="(securityName, securityValues) in security">\n              <strong class="security-value" ng-repeat="value in securityValues">{{value}}</strong>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </section>\n\n    <section class="try-operation" ng-if="enableTryIt">\n      <button class="border-only try-it" ng-class="{trying: isTryOpen}" ng-click="toggleTry()" ng-if="!isTryOpen" track-event="try-operation">Try this operation</button>\n      <button class="border-only red close-try" ng-class="{\'is-open\': isTryOpen}" ng-click="toggleTry()" ng-if="isTryOpen">Close</button>\n      <div ng-include="\'templates/try-operation.html\'" ng-if="isTryOpen"></div>\n    </section>\n</div></li>'),a.put("templates/paste-json.html",'<div class="modal-header">\n  <h3 class="modal-title">Paste Swagger JSON</h3>\n</div>\n<div class="modal-body">\n  <div class="form-group">\n    <label>Swagger JSON</label>\n    <textarea class="form-control" cols="30" rows="10" ng-model="json" ng-change="checkJSON(json)"></textarea>\n  </div>\n  <div ng-if="error">\n    Error\n    <json-formatter class="error json-formatter-dark" json="error" open="2"></json-formatter>\n  </div>\n  <p class="can-import" ng-if="canImport">✔ Valid Swagger</p>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\n  <button class="btn btn-primary" ng-click="ok()" ng-disabled="!canImport">Import</button>\n</div>'),a.put("templates/path.html",'<li class="path">\n  <header ng-click="$parent.toggle([\'paths\', path.pathName])">\n    <h2>\n      <a>{{path.pathName}}</a>\n    </h2>\n    <span class="on-hover">\n      <a ng-click="toggleAll([\'paths\', path.pathName])" ng-hide="isAllFolded([\'paths\', path.pathName]) || isCollapsed([\'paths\', path.pathName])" stop-event>List all operations</a>\n    </span>\n    <a class="jump-to-yaml" ng-click="focusEdit($event, [\'paths\', path.pathName]) " tooltip-placement="left" tooltip="Jump to YAML"></a>\n  </header>\n  <ul class="operations" collapse-when="$parent.isCollapsed([\'paths\', path.pathName])">\n    <operation ng-repeat="operation in path.operations" ng-if="!isVendorExtension(operation.operationName)"></operation>\n  </ul>\n</li>'),a.put("templates/schema-model.html",'<div class="schema-model" ng-class="{hidden: !schema}">\n  <header>\n    <a ng-click="mode = \'json\'" ng-class="{active: mode === \'model\'}">JSON</a> <span ng-class="{active: mode === \'json\'}">JSON</span>\n    <span class="active pipe">|</span>\n    <a ng-click="mode = \'model\'" ng-class="{active: mode === \'json\'}">Model</a> <span ng-class="{active: mode === \'model\'}">Model</span>\n  </header>\n\n  <section class="json animate-if" ng-if="mode === \'json\'">\n    <json-formatter json="json" open="1"></json-formatter>\n  </section>\n  <section class="model animate-if" ng-if="mode === \'model\'">\n    <json-schema-view schema="json" open="0"></json-schema-view>\n  </section>\n</div>'),a.put("templates/security.html",'<div class="security" ng-controller="SecurityCtrl">\n  <header>\n    <h3 class="section-header">\n      <a ng-click="toggle([\'security\'])">Security</a>\n    </h3>\n  </header>\n\n  <div class="security-definitions" collapse-when="isCollapsed([\'security\'])">\n    <div ng-repeat="(securityDefinitionName, securityDefinition) in specs.securityDefinitions" class="security-definition {{securityDefinition.type}}">\n      <header>\n        <h4>\n          <span class="authenticated" style="color:green" ng-if="isAuthenticated(securityDefinitionName)" title="Authenticated">✓</span>\n          <span>{{securityDefinitionName}}</span>\n          <span class="security-type">({{getHumanSecurityType(securityDefinition.type)}})</span>\n          <div class="authentication">\n            <div>\n              <button ng-click="authenticate(securityDefinitionName, securityDefinition)" class="authenticate">{{isAuthenticated(securityDefinitionName) ? \'Change Authentication\' : \'Authenticate\'}}</button>\n            </div>\n          </div>\n        </h4>\n      </header>\n      <section>\n        <p ng-if="securityDefinition.description" marked="securityDefinition.description"></p>\n\n        <table class="table">\n          <tbody>\n            <tr ng-if="securityDefinition.name">\n              <td>Name</td>\n              <td>{{securityDefinition.name}}</td>\n            </tr>\n            <tr ng-if="securityDefinition.in">\n              <td>In</td>\n              <td>{{securityDefinition.in}}</td>\n            </tr>\n            <tr ng-if="securityDefinition.flow">\n              <td>Flow</td>\n              <td>{{securityDefinition.flow}}</td>\n            </tr>\n            <tr ng-if="securityDefinition.authorizationUrl">\n              <td>Authorization URL</td>\n              <td><a target="_blank" href="{{securityDefinition.authorizationUrl}}">{{securityDefinition.authorizationUrl}}</a></td>\n            </tr>\n            <tr ng-if="securityDefinition.tokenUrl">\n              <td>Authorization URL</td>\n              <td><a target="_blank" href="{{securityDefinition.tokenUrl}}">{{securityDefinition.tokenUrl}}</a></td>\n            </tr>\n          </tbody>\n        </table>\n        <h4 ng-if="securityDefinition.scopes">Scopes</h4>\n        <table ng-if="securityDefinition.scopes">\n          <tbody>\n            <tr ng-repeat="(scopeName, scope) in securityDefinition.scopes" class="scopes-table">\n              <td><strong>{{scopeName}}</strong></td>\n              <td>{{scope}}</td>\n            </tr>\n          </tbody>\n        </table>\n      </section>\n    </div>\n  </div>\n</div>'),a.put("templates/specs-info.html",'<div class="info">\n  <header class="info-header">\n    <h3 class="section-header">\n      <a ng-click="toggle([\'info\'])">{{specs.info.title}}</a>\n    </h3>\n    <!-- Commented out because of CSS issues (looks bad)\n    <div class="collapse-togglers">\n      <button type="button" class="btn btn-default left" ng-click="toggleAllPathsListed()"\n        ng-class="{active: areAllPathsListed()}">All</button>\n      <button type="button" class="btn btn-default left"></button>\n      <button type="button" class="btn btn-default left"></button>\n    </div>\n    -->\n  </header>\n\n  <div class="info-container section-content" collapse-when="isCollapsed([\'info\'])" ng-ani>\n    <div marked="specs.info.description"></div>\n    <h4>Version <span>{{specs.info.version}}</span></h4>\n    <div ng-if="specs.info.termsOfService">\n      <h4>Terms of service</h4>\n      <p>{{specs.info.termsOfService}}</p>\n    </div>\n    <div ng-if="license">\n      <h4>{{specs.info.license.name}}</h4>\n      <a href="{{specs.info.license.url}}">{{specs.info.license.url}}</a>\n    </div>\n  </div>\n</div>'),a.put("templates/tags.html",'<div class="root tags">\n  <div class="filtered" ng-if="stateParams.tags">\n    <p>Showing only operations with following tag{{getCurrentTags().length === 1 ? \'\' : \'s\'}}:</p>\n    <span class="tag tag-color-{{tagIndexFor(tag)}}" ng-repeat="tag in getCurrentTags()">{{tag}}\n      <a class="delete-tag" ui-sref="{tags: \'\'}">×</a>\n    </span>\n  </div>\n  <div class="all-tags" ng-if="!stateParams.tags && getAllTags().length">\n    <p>Filter operations by a tag:</p>\n    <a class="tag tag-color-{{tagIndexFor(tag.name)}}" ui-sref="{tags: tag.name}" ng-repeat="tag in getAllTags()" title="{{tag.description}}">{{tag.name}}</a>\n  </div>\n</div>'),a.put("templates/try-operation.html",'<div ng-controller="TryOperation">\n  <h4>Request</h4>\n  <div class="request">\n    <tabset justified="true">\n      <tab heading="Form" select="setInputMode(\'form\')">\n        <div class="parameters" ng-repeat="parameter in parameters">\n          <form sf-schema="parameter.schema" sf-form="parameter.form" sf-model="parameter.model"></form>\n        </div>\n      </tab>\n      <tab heading="Raw" select="setInputMode(\'raw\')" ng-if="hasBodyParam()">\n        <div class="raw-model" ng-model="$parent.rawModel" ui-ace="{theme:\'github\', mode: \'json\', onChange: rawChanged}"></div>\n      </tab>\n    </tabset>\n\n    <table class="options-table">\n      <tbody>\n        <tr ng-if="specs.schemes">\n          <td><label>Scheme</label></td>\n          <td>\n             <select ng-model="$parent.scheme" ng-init="$parent.scheme = walkToProperty(\'schemes\')[0]" ng-options="o as o for o in walkToProperty(\'schemes\')"></select>\n          </td>\n        </tr>\n        <tr ng-if="hasBodyParam()">\n          <td><label>Content Type</label></td>\n          <td>\n            <select ng-model="$parent.contentType" ng-init="$parent.contentType = \'multipart/form-data\'">\n              <option value="multipart/form-data">multipart/form-data</option>\n              <option value="application/x-www-form-urlencoded">application/x-www-form-urlencoded</option>\n              <option value="application/json">application/json</option>\n            </select>\n          </td>\n        </tr>\n        <tr ng-if="walkToProperty(\'consumes\').length">\n          <td><label>Accept</label></td>\n          <td>\n            <select ng-model="$parent.accepts" ng-options="o as o for o in walkToProperty(\'consumes\')" ng-init="$parent.accepts = walkToProperty(\'consumes\')[0]"></select>\n          </td>\n        </tr>\n        <tr>\n          <td><label>Security</label></td>\n          <td>\n            <select ng-model="$parent.selectedSecurity" ng-init="$parent.selectedSecurity = getSecuirtyOptions()[0]">\n              <option ng-repeat="option in getSecuirtyOptions()" value="{{option}}" ng-disabled="!$parent.securityIsAuthenticated(option)">\n                {{option + (!$parent.securityIsAuthenticated(option) ? \' (Not authenticated)\' : \'\')}}\n              </option>\n            </select>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <div class="raw-request raw">\n      <div class="line url">\n        {{operation.operationName | uppercase}}\n        <a href="{{generateUrl()}}" target="_blank">{{generateUrl()}}</a>\n        {{httpProtorcol}}\n      </div>\n      <div class="headers">\n        <div class="header" ng-repeat="(headerName, headerValue) in getHeaders()">\n        <strong>{{headerName}}</strong>: {{headerValue}}</div>\n      </div>\n      <pre ng-if="hasBodyParam()" class="json-body">{{getRequestBody()}}</pre>\n    </div>\n    <button ng-click="makeCall()" class="{{$parent.operationName}} call" ng-disabled="xhrInProgress">\n      <span ng-if="xhrInProgress">Sending...</span>\n      <span ng-if="!xhrInProgress">Send Request</span>\n    </button>\n  </div>\n\n  <h4>Response</h4>\n  <div class="response" ng-if="xhr">\n    <div class="response-info" ng-class="{error: error}">\n      <span class="status-text">{{textStatus | uppercase}}</span>\n      <span ng-if="error">{{error}}</span>\n    </div>\n    <tabset justified="true" class="responses-tabs">\n      <tab heading="Rendered">\n        <h6>Headers</h6>\n        <json-formatter json="responseHeaders" open="3"></json-formatter>\n        <h6>Body</h6>\n        <json-formatter ng-if="isJson(responseData)" json="responseData" open="3"></json-formatter>\n        <div ng-if="isHTML(responseData)" ng-bind-html="responseData"></div>\n        <div ng-if="isPlain(responseData)">\n          {{responseData}}\n        </div>\n      </tab>\n      <tab heading="Pretty">\n        <pre>{{prettyPrint(xhr.responseText)}}</pre>\n      </tab>\n      <tab heading="Raw">\n        <div class="raw-response raw">\n          <div class="status">{{httpProtorcol}} {{xhr.statusCode}} {{statusText}}</div>\n          <div class="resp-headers">{{xhr.getAllResponseHeaders()}}</div>\n          <div>{{xhr.responseText}}</div>\n        </div>\n      </tab>\n    </tabset>\n    </div>\n  </div>\n'),a.put("templates/url-import.html",'<div class="modal-header">\n  <h3 class="modal-title">Import From URL</h3>\n</div>\n<div class="modal-body">\n  <div class="form-group">\n    <label for="url">URL</label>\n    <input type="text" class="form-control" autofocus="true" ng-model="url" ng-blur="fetch(url)">\n  </div>\n  <p class="error" ng-if="error">{{error}}</p>\n  <p class="can-import" ng-if="canImport">✔ Valid URL</p>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\n  <button class="btn btn-primary" ng-click="ok()" ng-disabled="!canImport">Import</button>\n</div>'),a.put("views/editor/editor.html",'<div class="editor-wrapper" ng-model="$root.editorValue" ui-ace="{\n  useWrapMode : true,\n  mode: \'yaml\',\n  onLoad: aceLoaded,\n  onChange: aceChanged}">\n</div>'),a.put("views/header/header.html",'<div class="main-header">\n  <div ng-if="showAbout" ng-include="\'templates/intro.html\'"></div>\n  <a href="http://swagger.io" target="_blank" class="logo" ng-if="!showHeaderBranding()"></a>\n  <div ng-include="\'templates/branding-left.html\'" ng-if="showHeaderBranding()" class="branding-3rdparty"></div>\n  <section class="menu-bar">\n    <div class="file dropdown" ng-if="showFileMenu()">\n      <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" id="fileMenu" ng-mouseover="assignDownloadHrefs()">File\n        <span class="caret"></span>\n      </button>\n      <ul class="dropdown-menu" ng-if="showFileMenu()" role="menu" aria-labelledby="fileMenu">\n        <li role="presentation">\n          <a ng-click="newProject()" role="menuitem" tabindex="-1" track-event="file new">New</a>\n        </li>\n        <li role="presentation">\n          <a ng-click="newProject(true)" role="menuitem" tabindex="-1" track-event="file blank">Blank Project</a>\n        </li>\n        <li role="presentation">\n          <a ng-click="openExamples()" role="menuitem" tabindex="-1" track-event="file open-example">Open Example&hellip;</a>\n        </li>\n        <li role="presentation" class="divider"></li>\n        <li role="presentation">\n          <a ng-click="openPasteJSON()" role="menuitem" tabindex="-1" track-event="file paste-json">Paste JSON&hellip;</a>\n        </li>\n        <li role="presentation">\n          <a ng-click="openImportUrl()" role="menuitem" tabindex="-1" track-event="file import url">Import URL&hellip;</a>\n        </li>\n        <li role="presentation">\n          <a ng-click="openImportFile()" role="menuitem" tabindex="-1" track-event="file import file">Import File&hellip;</a>\n        </li>\n        <li role="presentation" class="divider"></li>\n        <li role="presentation">\n          <a download="swagger.yaml" data-downloadurl="{{yamlDownloadUrl}}" href="{{yamlDownloadHref}}" role="menuitem" tabindex="-1" track-event="file download yaml">Download YAML</a>\n        </li>\n        <li role="presentation">\n          <a download="swagger.json" downloadurl="{{jsonDownloadUrl}}" href="{{jsonDownloadHref}}" role="menuitem" tabindex="-1" track-event="file download json">Download JSON</a>\n        </li>\n        <li role="presentation">\n          <a role="menuitem" tabindex="-1" ng-click="openDownloadDocs()" track-event="file download html">Download HTML Docs</a>\n        </li>\n      </ul>\n    </div>\n\n    <div class="preferences dropdown">\n      <button id="preferences" class="btn btn-default dropdown-toggle">\n        Preferences\n        <span class="caret"></span>\n      </button>\n      <ul class="dropdown-menu" role="menu" aria-labelledby="preferences">\n        <li role="presentation">\n          <a class="font-size">\n            Font Size\n            <span ng-click="adjustFontSize(1)" stop-event class="adjust" track-event="preferences font+">+</span><span ng-click="adjustFontSize(-1)" stop-event class="adjust" track-event="preferences font-">–</span>\n          </a>\n        </li>\n        <li role="presentation">\n          <a ng-click="openEditorPreferences()" role="menuitem" tabindex="-1" track-event="preferences settings">Settings</a>\n        </li>\n        <li role="presentation">\n          <a ng-click="resetSettings()" role="menuitem" tabindex="-1" track-event="preferences reset-settings">Reset Settings</a>\n        </li>\n      </ul>\n    </div>\n\n    <div class="mode dropdown">\n      <button id="switch-mode" class="btn btn-default dropdown-toggle">\n        Mode\n        <span class="caret"></span>\n      </button>\n      <ul class="dropdown-menu" role="menu" aria-labelledby="switch-mode">\n        <li role="presentation">\n          <a ui-sref="{mode: \'edit\'}" role="menuitem" tabindex="-1" id="edit-mode" track-event="mode edit">Editor</a>\n        </li>\n        <li role="presentation">\n          <a role="menuitem" tabindex="-1" stop-event id="design-mode" ng-click="designModeTodoAlert()" track-event="mode designer">Designer</a>\n        </li>\n        <li role="presentation">\n          <a ui-sref="{mode: \'preview\'}" role="menuitem" tabindex="-1" id="preview-mode" track-event="mode preview">Preview</a>\n        </li>\n        <li role="presentation" class="divider" ng-if="showEditorMenuOptions()"></li>\n        <li role="presentation" ng-if="showEditorMenuOptions()">\n          <a role="menuitem" tabindex="-1" ng-click="toggleLiveRender()" track-event="mode toggle-live-render {{isLiveRenderEnabled()}}">{{isLiveRenderEnabled() ? \'Disable\' : \'Enable\'}} Live Render</a>\n        </li>\n      </ul>\n    </div>\n\n    <div class="dropdown" ng-if="servers && !disableCodeGen">\n       <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" id="ServerMenu">\n        Get Servers\n        <span class="caret"></span>\n      </button>\n      <ul class="dropdown-menu" role="menu" aria-labelledby="ServerMenu">\n        <li ng-repeat="server in servers" role="presentation">\n          <a role="menuitem" tabindex="-1" ng-click="getServer(server)">{{server}}</a>\n        </li>\n      </ul>\n    </div>\n\n    <div class="code-gen dropdown" ng-if="clients && !disableCodeGen">\n       <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" id="ClientMenu">\n        Get Clients\n        <span class="caret"></span>\n      </button>\n      <ul class="dropdown-menu" role="menu" aria-labelledby="ClientMenu">\n        <li ng-repeat="client in clients" role="presentation">\n          <a role="menuitem" tabindex="-1" ng-click="getClient(client)">{{client}}</a>\n        </li>\n      </ul>\n    </div>\n\n    <div class="help dropdown">\n      <button class="dropdown-icon btn btn-default dropdown-toggle" id="helpMenu" data-toggle="dropdown" type="button">Help\n      <span class="caret"></span>\n      </button>\n      <ul class="dropdown-menu" role="menu" aria-labelledby="helpMenu">\n        <li role="presentation">\n          <a href="https://github.com/swagger-api/swagger-editor/issues/new?labels=From%20Editor" target="_blank">Report A Bug</a>\n        </li>\n        <li role="presentation">\n          <a role="menuitem" tabindex="-1" href="http://swagger.io/" target="_blank">Swagger Website</a>\n        </li>\n        <li role="presentation">\n          <a role="menuitem" tabindex="-1" ng-click="openAbout()">About Swagger Editor</a>\n        </li>\n        <li role="presentation" class="divider"></li>\n        <li role="presentation">\n          <a ng-click="toggleAboutEditor(true)" role="menuitem" tabindex="-1">Show Introduction Help</a>\n        </li>\n      </ul>\n    </div>\n  </section>\n\n  <section class="status-bar">\n    <div ng-if="mode === \'preview\'" class="status {{statusClass}}" ng-if="status">\n      <span class="icon"></span>\n      <span>{{status}}</span>\n    </div>\n    <div class="brandRight" ng-include="\'templates/branding-right.html\'" ng-if="showHeaderBranding()"></div>\n  </section>\n  </div>\n'),a.put("views/main-preview.html",'<header ui-view="header" class="main-header"></header>\n<main class="preveiw-mode preview-wrapper">\n  <div ui-view="preview"></div>\n</main>'),a.put("views/main.html",'<header ui-view="header"></header>\n<main ng-class="{\'preview-mode\': mode === \'docs-only\'}">\n  <div ui-layout="{ flow : \'column\', dividerSize: \'8px\'}">\n    <div class="editor pane" ui-layout-container>\n      <div ui-view="editor"></div>\n    </div>\n    <div class="preview pane" ui-layout-container>\n      <div ui-view="preview"></div>\n    </div>\n  </div>\n</main>'),a.put("views/preview/preview.html",'<div class="preview-wrapper">\n  <div class="dirty-message" ng-if="isDirty">\n    This preview is out of date. Please <a ng-click="loadLatest()">reload</a> to see the latest.\n  </div>\n  <ng-include src="\'templates/error-presenter.html\'" ng-if="errors || warnings"></ng-include>\n\n  <ng-include src="\'templates/specs-info.html\'" ng-if="!!specs.info && !error.yamlError"></ng-include>\n  <ng-include src="\'templates/security.html\'" ng-if="specs.securityDefinitions"></ng-include>\n\n  <header ng-if="!!specs.info && !error.yamlError">\n    <h3 class="section-header">\n      <a ng-click="toggle([\'paths\'])">Paths</a>\n      <span class="on-hover">\n        <a ng-click="toggleAll([\'paths\'])" ng-hide="isAllFolded([\'paths\'])">List all paths</a>\n      </span>\n    </h3>\n  </header>\n\n  <ng-include src="\'templates/tags.html\'"></ng-include>\n\n  <ul class="paths" ng-if="!error.yamlError" collapse-when="isCollapsed([\'paths\'])">\n    <path ng-repeat="path in specs.paths" ng-if="!isVendorExtension(path.pathName) && path.operations.length > 0"></path>\n  </ul>\n\n  <header ng-if="specs.definitions">\n    <h3 class="section-header">\n      <!-- <span class="arrow">{{isCollapsed(\'definitions\') ? \'▶\' : \'▼\'}}</span> -->\n      <a ng-click="toggle([\'definitions\'])">Models</a>\n      <span class="on-hover">\n        <a ng-click="toggleAll([\'definitions\'])" ng-hide="isAllFolded([\'definitions\'])">List all models</a>\n      </span>\n    </h3>\n  </header>\n   <ul class="section-content definitions" ng-if="specs.definitions" collapse-when="isCollapsed([\'definitions\'])" class="models">\n      <li class="definition" ng-repeat="(modelName, model) in specs.definitions" ng-if="!isVendorExtension(modelName)" scroll-into-view-when="isInFocus([\'definitions\', modelName])">\n        <h4>\n          <a ng-click="toggle([\'definitions\', modelName])" class="definition-title">{{modelName}}</a>\n        </h4>\n        <schema-model schema="model" collapse-when="isCollapsed([\'definitions\', modelName])"></schema-model>\n      </li>\n    </ul>\n</div>')
}]),$(function(){var a=window.$$embeddedDefaults;a?(window.SwaggerEditor.$defaults=a,angular.bootstrap(window.document,["SwaggerEditor"])):$.getJSON("/config/defaults.json").done(function(a){window.SwaggerEditor.$defaults=a,angular.bootstrap(window.document,["SwaggerEditor"])}).fail(function(){console.error("Failed to load defaults.json at","/config/defaults.json")})}),ace.define("ace/theme/atom_dark",["require","exports","module","ace/lib/dom"],function(a,b){b.isDark=!0,b.cssClass="ace-atom-dark",b.cssText=".ace-atom-dark {font-size:16px} .ace-atom-dark .ace_gutter {background: #1a1a1a;color: #868989}.ace-atom-dark .ace_print-margin {width: 1px;background: #1a1a1a}.ace-atom-dark {background-color: #1d1f21;color: #A8FF60}.ace-atom-dark .ace_cursor {color: white}.ace-atom-dark .ace_marker-layer .ace_selection {background: #444444}.ace-atom-dark.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #000000;border-radius: 2px}.ace-atom-dark .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-atom-dark .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid #888888}.ace-atom-dark .ace_marker-layer .ace_highlight {border: 1px solid rgb(110, 119, 0);border-bottom: 0;box-shadow: inset 0 -1px rgb(110, 119, 0);margin: -1px 0 0 -1px;background: rgba(255, 235, 0, 0.1);}.ace-atom-dark .ace_marker-layer .ace_active-line {background: #2A2A2A}.ace-atom-dark .ace_gutter-active-line {background-color: #2A2A2A}.ace-atom-dark .ace_stack {background-color: rgb(66, 90, 44)}.ace-atom-dark .ace_marker-layer .ace_selected-word {border: 1px solid #888888}.ace-atom-dark .ace_invisible {color: #343434}.ace-atom-dark .ace_keyword,.ace-atom-dark .ace_meta,.ace-atom-dark .ace_storage,.ace-atom-dark .ace_storage.ace_type,.ace-atom-dark .ace_support.ace_type {color: #96CBFE}.ace-atom-dark .ace_keyword.ace_operator {color: #70C0B1}.ace-atom-dark .ace_constant.ace_character,.ace-atom-dark .ace_constant.ace_language,.ace-atom-dark .ace_constant.ace_numeric,.ace-atom-dark .ace_keyword.ace_other.ace_unit,.ace-atom-dark .ace_support.ace_constant,.ace-atom-dark .ace_variable.ace_parameter {color: #fe73fd}.ace-atom-dark .ace_constant.ace_other {color: #EEEEEE}.ace-atom-dark .ace_invalid {color: #CED2CF;background-color: #DF5F5F}.ace-atom-dark .ace_invalid.ace_deprecated {color: #CED2CF;background-color: #B798BF}.ace-atom-dark .ace_fold {background-color: #7AA6DA;border-color: #DEDEDE}.ace-atom-dark .ace_entity.ace_name.ace_function,.ace-atom-dark .ace_support.ace_function,.ace-atom-dark .ace_variable {color: #7AA6DA}.ace-atom-dark .ace_support.ace_class,.ace-atom-dark .ace_support.ace_type {color: #E7C547}.ace-atom-dark .ace_heading,.ace-atom-dark .ace_markup.ace_heading,.ace-atom-dark .ace_string {color: #B9CA4A}.ace-atom-dark .ace_entity.ace_name.ace_tag,.ace-atom-dark .ace_entity.ace_other.ace_attribute-name,.ace-atom-dark .ace_meta.ace_tag,.ace-atom-dark .ace_string.ace_regexp,.ace-atom-dark .ace_variable {color: #96CBFE}.ace-atom-dark .ace_comment {color: #7a7a7a}.ace-atom-dark .ace_c9searchresults.ace_keyword {color: #C2C280;}.ace-atom-dark .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYFBXV/8PAAJoAXX4kT2EAAAAAElFTkSuQmCC) right repeat-y}";var c=a("../lib/dom");c.importCssString(b.cssText,b.cssClass)}),SwaggerEditor.config(["$provide",function(a){a.constant("snippets",[{name:"swagger",trigger:"sw",path:[],content:['swagger: "2.0"',"${1}"].join("\n")},{name:"info",trigger:"info",path:[],content:["info:","  version: ${1:0.0.0}","  title: ${2:title}","  description: ${3:description}","  termsOfService: ${4:terms}","  contact:","    name: ${5}","    url: ${6}","    email: ${7}","  license:","    name: ${8:MIT}","    url: ${9:http://opensource.org/licenses/MIT}","${10}"].join("\n")},{name:"paths",trigger:"pa",path:[],content:["paths:","  ${1}"].join("\n")},{name:"definitions",trigger:"def",path:[],content:["definitions:","  ${1}"].join("\n")},{name:"path",trigger:"path",path:["paths"],content:["/${1}:","  ${2}"].join("\n")},{name:"get",trigger:"get",path:["paths","*"],content:["${1:get}:","  summary: ${2}","  description: ${2}","  responses:","    ${3:response}","  parameters:","    ${4:parameter}","  tags: ${5:[]}","${6}"].join("\n")},{name:"post",trigger:"post",path:["paths","."],content:["${1:post}:","  summary: ${2}","  description: ${2}","  responses:","    ${3:response}","  parameters:","    ${4:parameter}","  tags: ${5:[]}","${6}"].join("\n")},{name:"put",trigger:"put",path:["paths","."],content:["${1:put}:","  summary: ${2}","  description: ${2}","  responses:","    ${3:response}","  parameters:","    ${4:parameter}","  tags: ${5:[]}","${6}"].join("\n")},{name:"delete",trigger:"delete",path:["paths","."],content:["${1:delete}:","  summary: ${2}","  description: ${2}","  responses:","    ${3:response}","  parameters:","    ${4:parameter}","  tags: ${5:[]}","${6}"].join("\n")},{name:"patch",trigger:"patch",path:["paths","."],content:["${1:patch}:","  summary: ${2}","  description: ${2}","  responses:","    ${3:response}","  parameters:","    ${4:parameter}","  tags: ${5:[]}","${6}"].join("\n")},{name:"options",trigger:"options",path:["paths","."],content:["${1:options}:","  summary: ${2}","  description: ${2}","  responses:","    ${3:response}","  parameters:","    ${4:parameter}","  tags: ${5:[]}","${6}"].join("\n")},{name:"parameter",trigger:"param",path:["paths",".",".","parameters"],content:["- name: ${1:parameter_name}","  in: ${2:in}","  description: ${3:description}","  type: ${4:string}","${5}"].join("\n")},{name:"response",trigger:"resp",path:["paths",".",".","responses"],content:["${1:code}:","  description: ${2}","  schema: ${3}","${4}"].join("\n")},{name:"200",trigger:"200",path:["paths",".",".","responses"],content:["200:","  description: ${1}","  schema:","    type: ${2}","${4}"].join("\n")},{name:"model",trigger:"mod|def",regex:"mod|def",path:["definitions"],content:["${1:ModelName}:","  properties:","    ${2}"]}])}]),function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),_.templateSettings={interpolate:/\{(.+?)\}/g},SwaggerEditor.controller("MainCtrl",["$rootScope","$stateParams","$location","Editor","Storage","FileLoader","BackendHealthCheck","defaults","Analytics",function(a,b,c,d,e,f,g,h,i){function j(){e.load("yaml").then(function(d){var g;return"docs-only"===a.mode&&d?(e.save("yaml",d),void(a.editorValue=d)):(b["import"]?(g=b["import"],c.search("import",null)):d||(g=h.examplesFolder+h.exampleFiles[0]),void(g&&f.loadFromUrl(g).then(function(b){b&&(e.save("yaml",b),a.editorValue=b)})))})}i.initialize(),a.$on("$stateChangeStart",d.initializeEditor),g.startChecking(),a.$on("$stateChangeStart",j),"docs-only"!==a.mode&&(a.mode=b.mode?b.mode:"edit"),$("body").addClass(h.brandingCssClass),j()}]),SwaggerEditor.controller("HeaderCtrl",["$scope","$modal","$stateParams","$state","$rootScope","Storage","Builder","FileLoader","ASTManager","Editor","Codegen","Preferences","defaults","strings",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(a){b.open({templateUrl:"templates/code-gen-error-modal.html",controller:"GeneralModal",size:"large",resolve:{data:function(){return a.data}}})}function p(){var b="text/plain";f.load("yaml").then(function(c){var d=jsyaml.load(c);d.info.version&&(d.info.version=String(d.info.version)),d.swagger&&(d.swagger=2===d.swagger?"2.0":String(d.swagger)),d=JSON.stringify(d,null,4);var e=new Blob([d],{type:b});a.jsonDownloadHref=window.URL.createObjectURL(e),a.jsonDownloadUrl=[b,"swagger.json",a.jsonDownloadHref].join(":");var f=new Blob([c],{type:b});a.yamlDownloadHref=window.URL.createObjectURL(f),a.yamlDownloadUrl=[b,"swagger.yaml",a.yamlDownloadHref].join(":")})}function q(){}a.breadcrumbs=c.path?[{active:!0,name:c.path}]:[],f.addChangeListener("progress",function(b){a.status=n.stausMessages[b],a.statusClass=null,b>0&&(a.statusClass="success"),0>b&&(a.statusClass="error")}),f.load("intro").then(function(b){b||m.disableNewUserIntro||(a.showAbout=!0,f.save("intro",!0))}),a.disableCodeGen=m.disableCodeGen,m.disableCodeGen||(k.getServers().then(function(b){a.servers=b}),k.getClients().then(function(b){a.clients=b})),a.getServer=function(a){k.getServer(a).then(q,o)},a.getClient=function(a){k.getClient(a).then(q,o)},a.showFileMenu=function(){return!m.disableFileMenu},a.showHeaderBranding=function(){return m.headerBranding},a.newProject=function(a){h.loadFromUrl("spec-files/guide.yaml").then(function(b){b=a?"":b,f.save("yaml",b),e.editorValue=b,i.refresh(e.editorValue),d.go("home",{mode:"edit"})})},a.assignDownloadHrefs=function(){p(a,f)},a.openImportFile=function(){b.open({templateUrl:"templates/file-import.html",controller:"FileImportCtrl",size:"large"})},a.openImportUrl=function(){b.open({templateUrl:"templates/url-import.html",controller:"UrlImportCtrl",size:"large"})},a.openPasteJSON=function(){b.open({templateUrl:"templates/paste-json.html",controller:"PasteJSONCtrl",size:"large"})},a.openAbout=function(){b.open({templateUrl:"templates/about.html",size:"large",controller:"ModalCtrl"})},a.toggleAboutEditor=function(b){a.showAbout=b},a.designModeTodoAlert=function(){window.alert("Designer mode is not yet implemented. With designer you would be able to edit your Swagger document using UI tools.")},a.openEditorPreferences=j.showSettings,a.resetSettings=j.resetSettings,a.adjustFontSize=j.adjustFontSize,a.openExamples=function(){b.open({templateUrl:"templates/open-examples.html",controller:"OpenExamplesCtrl",size:"large"})},a.toggleLiveRender=function(){l.set("liveRender",!l.get("liveRender"))},a.isLiveRenderEnabled=function(){return!!l.get("liveRender")},a.showEditorMenuOptions=function(){return"edit"===d.params.mode},a.openDownloadDocs=function(){b.open({templateUrl:"templates/download-docs.html",controller:"DownloadDocsCtrl",size:"x-large"})}}]),SwaggerEditor.controller("FileImportCtrl",["$scope","$modalInstance","$rootScope","$localStorage","FileLoader","Storage","ASTManager",function(a,b,c,d,e,f,g){var h;a.fileChanged=function(a){h=e.load(a)},a.ok=function(){angular.isString(h)&&(c.editorValue=h,f.save("yaml",h),g.refresh(c.editorValue)),b.close()},a.isInvalidFile=function(){return null===h},a.isFileSelected=function(){return!!h},a.cancel=b.close}]),SwaggerEditor.controller("EditorCtrl",["$scope","$rootScope","Editor","Builder","Storage","ASTManager",function(a,b,c,d,e,f){function g(){var a=b.editorValue;e.save("yaml",a),f.refresh(b.editorValue)}var h=_.debounce(g,200);a.aceLoaded=c.aceLoaded,a.aceChanged=function(){e.save("progress",0),h()},c.ready(function(){e.load("yaml").then(function(a){b.editorValue=a,g(!0)})})}]),SwaggerEditor.controller("PreviewCtrl",["Storage","Builder","ASTManager","Sorter","Editor","BackendHealthCheck","FocusedPath","TagManager","Preferences","$scope","$rootScope","$stateParams",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(d,e){return i.get("liveRender")||e||!j.specs?(c.refresh(d),void((f.isHealthy()||"edit"===k.mode)&&b.buildDocs(d).then(o,p))):(k.isDirty=!0,void a.save("progress",1))}function n(a){var b={};angular.isString(l.tags)&&(b.limitToTags=l.tags.split(",")),q(d.sort(_.cloneDeep(a.specs),{})),j.specs=d.sort(a.specs,b),j.errors=a.errors,j.warnings=a.warnings}function o(b){n(b),j.errors=null,a.save("progress",2),"edit"===k.mode&&e.clearAnnotation()}function p(b){n(b),b.errors.yamlError&&"edit"===k.mode&&e.annotateYAMLErrors(b.errors.yamlError),a.save("progress",-1)}function q(a){angular.isObject(a)&&h.registerTagsFromSpecs(a)}a.addChangeListener("yaml",m),j.loadLatest=function(){a.load("yaml").then(function(a){m(a,!0)}),k.isDirty=!1},"preview"===k.mode&&j.loadLatest(),c.onFoldStatusChanged(function(){_.defer(function(){j.$apply()})}),j.isCollapsed=c.isFolded,j.isAllFolded=c.isAllFolded,j.toggle=function(a){c.toggleFold(a,e)},j.toggleAll=function(a){c.setFoldAll(a,!0,e)},j.tagIndexFor=h.tagIndexFor,j.getAllTags=h.getAllTags,j.getCurrentTags=h.getCurrentTags,j.stateParams=l,j.focusEdit=function(a,b,d){if(a.stopPropagation(),"edit"===k.mode){var f=c.lineForPath(b);d=d||0,e.gotoLine(f-d),e.focus()}},j.isInFocus=function(a){return!!a},j.getEditPath=function(a){return"#/paths?path="+window.encodeURIComponent(a)},j.responseCodeClassFor=function(a){var b="default";switch(Math.floor(+a/100)){case 2:b="green";break;case 5:b="red";break;case 4:b="yellow";break;case 3:b="blue"}return b},j.isVendorExtension=function(a){return"x-"===a.substring(0,2).toLowerCase()}}]),SwaggerEditor.controller("GeneralModal",["$scope","$modalInstance","data",function(a,b,c){a.ok=b.close,a.cancel=b.close,a.data=c}]),SwaggerEditor.controller("UrlImportCtrl",["$scope","$modalInstance","$localStorage","$rootScope","FileLoader","Storage","ASTManager",function(a,b,c,d,e,f,g){var h;a.url=null,a.fetch=function(b){angular.isString("string")&&b.indexOf("http")>-1&&e.loadFromUrl(b).then(function(b){h=b,a.canImport=!0},function(b){a.error=b,a.canImport=!1})},a.ok=function(){angular.isString(h)&&(f.save("yaml",h),d.editorValue=h,g.refresh(d.editorValue)),b.close()},a.cancel=b.close}]),SwaggerEditor.controller("PasteJSONCtrl",["$scope","$modalInstance","$rootScope","Storage","ASTManager",function(a,b,c,d,e){var f;a.checkJSON=function(b){a.canImport=!1;try{f=JSON.parse(b)}catch(c){return a.error=c.message,void(a.canImport=!1)}SwaggerTools.specs.v2.validate(f,function(b,c){return c&&c.errors?(a.error=c.errors,void(a.canImport=!1)):(a.canImport=!0,void(a.error=null))})},a.ok=function(){var a=jsyaml.dump(f);d.save("yaml",a),c.editorValue=a,e.refresh(c.editorValue),b.close()},a.cancel=b.close}]),SwaggerEditor.controller("ErrorPresenterCtrl",["$scope","$rootScope","Editor","ASTManager",function(a,b,c,d){var e=900,f=500;a.docsMode=!1,a.isCollapsed="preview"===b.mode||"docs-only"===b.mode,a.getErrors=function(){var b=a.$parent.errors||[],c=a.$parent.warnings;return Array.isArray(b)&&(b=b.map(function(a){return a.level=e,a})),Array.isArray(c)?(c=c.map(function(a){return a.level=f,a}),b.concat(c)):b},a.getType=function(a){return a.code&&a.message&&a.path?a.level>500?"Swagger Error":"Swagger Warning":a.yamlError?"YAML Syntax Error":a.emptyDocsError?"Empty Document Error":"Unknown Error"},a.getDescription=function(a){return angular.isString(a.message)?a.message:a.emptyDocsError?a.emptyDocsError.message:a.yamlError?a.yamlError.message.replace("JS-YAML: ","").replace(/./,function(a){return a.toUpperCase()}):a.resolveError?a.resolveError:a},a.isOnlyWarnings=function(){var b=a.$parent.errors||[],c=a.$parent.warnings||[];return c.length&&0===b.length},a.getTitle=function(){var b=a.$parent.errors||[],c=a.$parent.warnings||[];return 0===b.length?0===c.length?"No Errors or Warnings":1===c.length?"1 Warning":c.length+" Warnings":1===b.length?0===c.length?"1 Error":1===c.length?"1 Error and 1 Warning":"1 Error and "+c.length+" Warnings":0===c.length?b.length+" Errors":1===c.length?b.length+" Errors and  1 Warning":b.length+" Errors and "+c.length+" Warnings"},a.showLineJumpLink=function(b){return null!==a.getLineNumber(b)},a.getLineNumber=function(a){var b=null;return a.yamlError&&(b=a.yamlError.mark.line),a.path&&a.path.length&&(b=d.lineForPath(_.cloneDeep(a.path))),b},a.goToLineOfError=function(b){b&&(c.gotoLine(a.getLineNumber(b)),c.focus())},a.isWarning=function(a){return a.level<e},a.toggleCollapse=function(){a.isCollapsed=!a.isCollapsed}}]),SwaggerEditor.controller("OpenExamplesCtrl",["$scope","$modalInstance","$rootScope","FileLoader","Builder","Storage","ASTManager","defaults",function(a,b,c,d,e,f,g,h){a.files=h.exampleFiles,a.selectedFile=h.exampleFiles[0],a.open=function(a){d.loadFromUrl("spec-files/"+a).then(function(a){f.save("yaml",a),g.refresh(a),c.editorValue=a,b.close()},b.close)},a.cancel=b.close}]),SwaggerEditor.controller("ModalCtrl",["$scope","$modalInstance",function(a,b){a.cancel=b.close,a.close=b.close}]),SwaggerEditor.controller("SecurityCtrl",["$scope","$modal","AuthManager",function(a,b,c){a.getHumanSecurityType=function(a){var b={basic:"HTTP Basic Authentication",oauth2:"OAuth 2.0",apiKey:"API Key"};return b[a]},a.isAuthenticated=c.securityIsAuthenticated,a.authenticate=function(a,d){"basic"===d.type?b.open({templateUrl:"templates/auth/basic.html",controller:["$scope","$modalInstance",function(b,e){b.cancel=e.close,b.authenticate=function(){b.username&&b.password&&(c.basicAuth(a,d,{username:b.username,password:b.password}),e.close())}}],size:"large"}):"oauth2"===d.type?b.open({templateUrl:"templates/auth/oauth2.html",controller:["$scope","$modalInstance",function(b,e){b.cancel=e.close,b.authenticate=function(){b.accessToken&&(c.oAuth2(a,d,{accessToken:b.accessToken}),e.close())}}],size:"large"}):"apiKey"===d.type?b.open({templateUrl:"templates/auth/api-key.html",controller:["$scope","$modalInstance",function(b,e){b.cancel=e.close,b.authenticate=function(){b.apiKey&&(c.apiKey(a,d,{apiKey:b.apiKey}),e.close())}}],size:"large"}):window.alert("Not yet supported")}}]),SwaggerEditor.controller("DownloadDocsCtrl",["$scope","$modalInstance","$rootScope","Embedded","Storage",function(a,b,c,d,e){a.cancel=b.close,a.generate=function(){var b="text/html";a.ready=!1,e.load("yaml").then(function(c){d.template(c).then(function(c){var d=new Blob([c],{type:b});a.downloadHref=window.URL.createObjectURL(d),a.downloadUrl=[b,"swagger.html",a.downloadHref].join(":"),a.ready=!0,a.$digest()})})},a.generate()}]),SwaggerEditor.directive("onReadFile",["$parse",function(a){return{restrict:"A",scope:!1,link:function(b,c,d){var e=a(d.onReadFile);c.on("change",function(a){var c=new FileReader;c.onload=function(a){b.$apply(function(){e(b,{$fileContent:a.target.result})})},c.readAsText((a.srcElement||a.target).files[0])})}}}]),SwaggerEditor.directive("path",function(){return{restrict:"E",replace:!0,templateUrl:"templates/path.html",scope:!1}}),SwaggerEditor.directive("operation",["defaults",function(a){return{restrict:"E",replace:!0,templateUrl:"templates/operation.html",scope:!1,link:function(b){b.isTryOpen=!1,b.enableTryIt=a.enableTryIt,b.toggleTry=function(){b.isTryOpen=!b.isTryOpen},b.getParameters=function(){return Array.isArray(b.operation.parameters)?Array.isArray(b.path.pathParameters)?b.operation.parameters.concat(b.path.pathParameters):b.operation.parameters:b.path.pathParameters},b.getParameterSchema=function(a){return a.schema?a.schema:"array"===a.type?_.pick(a,"type","items"):{type:a.type}}}}}]),SwaggerEditor.directive("schemaModel",["$parse",function(a){return{templateUrl:"templates/schema-model.html",restrict:"E",replace:!0,scope:{schema:"&"},link:function(b,c,d){b.mode="model",b.json=removeVendorExtensions(a(d.schema)(b.$parent))}}}]),SwaggerEditor.directive("stopEvent",function(){return{restrict:"A",link:function(a,b){b.bind("click",function(a){a.stopPropagation()})}}}),SwaggerEditor.directive("scrollIntoViewWhen",function(){return{restrict:"A",link:function(a,b,c){a.$watch(c.scrollIntoViewWhen,function(a){a&&b.scrollIntoView(100)})}}}),SwaggerEditor.directive("collapseWhen",function(){var a=200;return{restrict:"A",link:function(b,c,d){function e(){setTimeout(function(){c.removeAttr("style")},a)}var f=null;if(d.collapseWhen){var g=c.clone();g.removeAttr("style"),g.appendTo("body"),f=g.height(),g.remove()}b.$watch(d.collapseWhen,function(a){a?(f=c.height(),c.height(f),c.height(0),c.addClass("c-w-collapsed"),e()):(c.height(f),c.removeClass("c-w-collapsed"),e())})}}}),SwaggerEditor.directive("trackEvent",["Analytics",function(a){return{restrict:"A",link:function(b,c,d){c.bind("click",function(){var b=d.trackEvent;angular.isString(b)&&a.sendEvent.apply(null,b.split(" "))})}}}]),SwaggerEditor.config(["$provide",function(a){a.constant("defaults",window.SwaggerEditor.$defaults)}]),SwaggerEditor.config(["$provide",function(a){a.constant("strings",{stausMessages:{"-2":"Unsaved changes. Check your server connection","-1":"Error!",0:"Working...",1:"Unsaved changes",2:"All changes saved."}})}]),SwaggerEditor.filter("formdata",function(){return function(a){var b=[];return angular.isObject(a)&&Object.keys(a).forEach(function(c){angular.isDefined(a[c])&&b.push(c+": "+a[c])}),b.join("\n")}}),SwaggerEditor.controller("TryOperation",["$scope","formdataFilter","AuthManager",function(a,b,c){function d(a){var b=_.extend(a,{schema:e(a),form:f(a),model:{}});return(a.schema&&"array"===a.schema.type||"array"===a.type)&&(b.model[a.name]=[]),b}function e(a){var b;return a&&a.schema?(a.schema.type||(a.schema.type="object"),"array"===a.schema.type?(b={type:"object",properties:{}},b.properties[a.name]=a.schema,b.properties[a.name].type="array",b.properties[a.name].items.type="object",b):a.schema):(b={type:"object",properties:{}},b.properties[a.name]=_.pick(a,"type","description","required","format"),b)}function f(a){if(a.schema&&"array"===a.schema.type){var b=[{key:a.name}];return b[0].items=[a.name+"[]"],b}return["*"]}function g(a){return function(b,c){return c["in"]===a&&c.model[c.name]&&c["default"]!==c.model[c.name]&&(b[c.name]=c.model[c.name]),b}}function h(){return a.scheme?a.scheme:a.walkToProperty("schemes")[0]}function i(){var b=h(),d=q.host||window.location.host,e=q.basePath||"",f=a.parameters.reduce(g("path"),{}),i=a.parameters.reduce(g("query"),{});"/"===e&&(e="");var j=c.getAuth(a.selectedSecurity);if(j){var k=null;"apiKey"===j.type&&"query"===j.security["in"]&&(k={},k[j.security.name]=j.options.apiKey),_.extend(i,k)}var l=window.decodeURIComponent($.param(i)),m="";return m=a.path.pathName.replace(/{([^{}]+)}/g,function(a){return f[a.substring(1,a.length-1)]||a}),b+"://"+d+e+m+(l?"?"+l:"")}function j(a){return"body"===a["in"]||"formData"===a["in"]}function k(){return a.parameters.map(function(a){return j(a)?m(a):void 0})[0]}function l(){var b=a.parameters.filter(function(a){return"header"===a["in"]}).reduce(function(a,b){var c=m(b)[b.name];return c&&(a[b.name]=c),a},{}),d=c.getAuth(a.selectedSecurity);if(d){var e=null;"basic"===d.type?e={Authorization:"Basic "+d.options.base64}:"apiKey"===d.type&&"header"===d.security["in"]?(e={},e[d.security.name]=d.options.apiKey):"oAuth2"===d.type&&(e={Authorization:"Bearer "+d.options.accessToken}),b=_.extend(b,e)}return b}function m(a){return Array.isArray(a.model[a.name])?a.model[a.name]:a.model}function n(){a.xhrInProgress=!0,a.error=null;var b=["Host","Accept-Encoding","Connection","Origin","Referer","User-Agent","Cache-Control","Content-Length"];$.ajax({url:a.generateUrl(),type:a.operation.operationName,headers:_.omit(a.getHeaders(),b),data:a.getRequestBody(),contentType:a.contentType}).fail(function(b,c,d){a.xhrInProgress=!1,a.textStatus=c,a.error=d,a.xhr=b,a.$digest()}).done(function(b,c,d){a.textStatus=c,a.xhrInProgress=!1,a.responseData=b,a.xhr=d,a.responseHeaders=p(d),a.$digest()})}function o(a){var b={};return a.split("\n").forEach(function(a){var c=a.split(":")[0],d=a.split(":")[1];c&&angular.isString(c)&&angular.isString(d)&&(b[c.trim()]=d.trim())}),b}function p(a){return o(a.getAllResponseHeaders())}var q=a.$parent.specs,r="",s="None";a.httpProtorcol="HTTP/1.1",a.generateUrl=i,a.makeCall=n,a.xhrInProgress=!1,a.parameters=Array.isArray(a.getParameters())?a.getParameters().map(d):[],a.hasBodyParam=function(){return a.parameters.some(function(a){return j(a)})},a.rawChanged=function(a){var b=a[1];r=b.getValue()},a.getRequestBody=function(){if("raw"===a.inputMode)return r;var c=k();return a.contentType?a.contentType.indexOf("form-data")>-1?b(c):a.contentType.indexOf("application/json")>-1?JSON.stringify(c,null,2):a.contentType.indexOf("x-www-form-urlencoded")>-1?$.param(c):"":""},a.getHeaders=function(){var b=l(),c=a.getRequestBody();return b=_.extend(b,{Host:a.specs.host||window.location.host,Accept:a.accepts||"*/*","Accept-Encoding":"gzip,deflate,sdch","Accept-Language":"en-US,en;q=0.8,fa;q=0.6,sv;q=0.4","Cache-Control":"no-cache",Connection:"keep-alive",Origin:window.location.origin,Referer:window.location.origin+window.location.pathname,"User-Agent":window.navigator.userAgent}),c&&(b["Content-Length"]=c.length,b["Content-Type"]=a.contentType),b},a.walkToProperty=function(b){var c={consumes:["*/*"],schemes:["http"]};return Array.isArray(a.operation[b])?a.operation[b]:Array.isArray(a.specs[b])?a.specs[b]:c[b]?c[b]:void 0},a.setInputMode=function(b){a.inputMode=b},a.prettyPrint=function(a){try{return JSON.stringify(JSON.parse(a),null,2)}catch(b){}return a},a.isJson=function(a){var b;try{JSON.parse(a)}catch(c){b=c}return!b},a.isHTML=function(a){var b=window.document.createElement("div");b.innerHTML=a;for(var c=b.childNodes,d=c.length;d--;)if(1===c[d].nodeType)return!0;return!1},a.isPlain=function(b){return!a.isHTML(b)&&!a.isJson(b)},a.getSecuirtyOptions=function(){var b=[s];return Array.isArray(a.operation.security)?b.concat(a.operation.security.map(function(a){return Object.keys(a)[0]})):b},a.securityIsAuthenticated=function(a){return a===s?!0:c.securityIsAuthenticated(a)}}]),SwaggerEditor.service("Sorter",function(){function a(a){var c=[];return angular.isObject(a)?(c=Object.keys(a).map(function(c){if(c.toLowerCase().substring(0,2)!==d&&"parameters"!==c){var e={operationName:c,responses:b(a[c].responses)};return a[c]=_.omit(a[c],"responses"),_.extend(e,a[c]),e}}),_.compact(c)):c}function b(a){var b=[];return angular.isObject(a)?(b=Object.keys(a).map(function(b){if(b.toLowerCase().substring(0,2)!==d){var c=_.extend({responseCode:b},a[b]);return c}}),_.compact(b)):b}function c(a){return function(b){if(!a)return!0;if(Array.isArray(a)&&Array.isArray(b.tags))for(var c=0;c<a.length;c++)for(var d=0;d<b.tags.length;d++)if(a[c]===b.tags[d])return!0;return!1}}var d="x-";this.sort=function(b,e){var f=_.cloneDeep(b);if(b&&b.paths){var g=Object.keys(b.paths).map(function(f){return f.toLowerCase().substring(0,2)!==d?{pathName:f,pathParameters:b.paths[f].parameters,operations:a(b.paths[f]).filter(c(e.limitToTags))}:void 0});f.paths=_.compact(g)}return f}}),SwaggerEditor.service("TagManager",["$stateParams",function(a){function b(a,b){this.name=a,this.description=b}function c(a,c){if(a){var e=d.map(function(a){return a.name});_.include(e,a)||d.push(new b(a,c))}}var d=[];this.resetTags=function(){d=[]},this.tagIndexFor=function(a){for(var b=0;b<d.length;b++)if(d[b].name===a)return b},this.getAllTags=function(){return d},this.registerTagsFromSpecs=function(a){angular.isObject(a)&&(d=[],Array.isArray(a.tags)&&a.tags.forEach(function(a){angular.isString(a.name)&&c(a.name,a.description)}),Array.isArray(a.paths)&&a.paths.forEach(function(a){Array.isArray(a.operations)&&a.operations.forEach(function(a){Array.isArray(a.tags)&&a.tags.forEach(function(a){c(a)})})}))},this.getCurrentTags=function(){return a.tags?a.tags.split(","):[]},this.registerTag=c}]),SwaggerEditor.service("Autocomplete",["$rootScope","snippets","ASTManager","KeywordMap",function(a,b,c,d){function e(a){var b=c.pathForPosition(a.row,a.column-1);return b}function f(a,b){if(!Array.isArray(a)||!Array.isArray(b))return!1;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)return new RegExp(b[c]).test(a[c]);return!0}function g(b){c.refresh(a.editorValue);var d=e(b);return d||1!==b.column||(d=[]),function(a){return f(d,a.path)}}function h(a,b){for(var c,d=Object.keys(a),e=0;e<d.length;e++)if(c=new RegExp(d[e]),c.test(b)&&a[d[e]])return a[d[e]]}function i(a){var b=e(a),c=d.get(),f=b.shift();if(!Array.isArray(b))return[];for(;f&&angular.isObject(c);)c=h(c,f),f=b.shift();if(!angular.isObject(c))return[];var g=Object.keys(c).map(function(a){return{name:a,value:a,score:300,meta:"swagger"}});return g}function j(a){return a.score=1e3,a}var k=null,l={getCompletions:function(a,c,d,e,f){a.completer.autoSelect=!0;var h=b.filter(g(d)).map(function(a){return{caption:a.name,snippet:a.content,meta:"snippet"}}).map(j),k=i(d);f(null,k.concat(h))}};this.init=function(a){k=a,k.completers=[l]}}]),SwaggerEditor.service("FileLoader",["$http","defaults",function(a,b){this.loadFromUrl=function(c){return angular.isString(c)&&0===c.indexOf("http")&&(c=b.importProxyUrl+c),a({method:"GET",url:c,headers:{accept:"application/x-yaml,text/yaml,application/json,*/*"}}).then(function(a){return angular.isObject(a.data)?jsyaml.dump(a.data):load(a.data)})},this.load=load}]),SwaggerEditor.service("Editor",["Autocomplete","ASTManager","LocalStorage","$interval",function(a,b,c,d){function e(a){a&&a.mark&&a.reason&&y.getSession().setAnnotations([{row:a.mark.line,column:a.mark.column,text:a.reason,type:"error"}])}function f(){y.getSession().clearAnnotations()}function g(c){window.e=y=c,ace.config.set("basePath","bower_components/ace-builds/src-noconflict"),a.init(c),y.setOptions({fontFamily:"Source Code Pro",enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0}),i(),b.refresh(y.getValue()),p(b.onFoldChanged),z.forEach(function(a){a(B)}),z=[];var d=y.getSession();d.on("changeFold",j),k(d)}function h(){y&&c.save("editor-settings",y.getOptions())}function i(){y&&c.load("editor-settings").then(function(a){a?y.setOptions(a):y.setOption("theme","ace/theme/atom_dark")})}function j(){var a=arguments;A.forEach(function(b){b.apply(y,a)})}function k(a){a.setTabSize(2)}function l(){y.resize()}function m(a){angular.isFunction(a)&&z.push(a)}function n(){var a=y.getSession(),b=null;return a.foldAll(),b=a.unfold(),Array.isArray(b)?b:[]}function o(a){return y.session.getLine(a)}function p(a){A.push(a)}function q(a,b){y&&y.getSession().foldAll(a,b)}function r(a){y&&y.getSession().unfold(a,100)}function s(a){y.gotoLine(a)}function t(){return y?y.getCursorPosition().row:null}function u(){ace.config.loadModule("ace/ext/settings_menu",function(a){a.init(y),y.showSettingsMenu();var b=d(function(){0===$("#ace_settingsmenu").length&&(h(),d.cancel(b),b=void 0)},300)})}function v(){var a={selectionStyle:"line",highlightActiveLine:!0,highlightSelectedWord:!0,readOnly:!1,cursorStyle:"ace",mergeUndoDeltas:!0,behavioursEnabled:!0,wrapBehavioursEnabled:!0,hScrollBarAlwaysVisible:!1,vScrollBarAlwaysVisible:!1,highlightGutterLine:!0,animatedScroll:!1,showInvisibles:!1,showPrintMargin:!0,printMarginColumn:80,printMargin:80,fadeFoldWidgets:!1,showFoldWidgets:!0,showLineNumbers:!0,showGutter:!0,displayIndentGuides:!0,fontSize:12,fontFamily:"Source Code Pro",scrollPastEnd:0,theme:"ace/theme/atom_dark",scrollSpeed:2,dragDelay:150,dragEnabled:!0,focusTimout:0,tooltipFollowsMouse:!0,firstLineNumber:1,overwrite:!1,newLineMode:"auto",useWorker:!0,useSoftTabs:!0,tabSize:2,wrap:"free",mode:"ace/mode/yaml",enableMultiselect:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0};window.confirm("Are you sure?")&&y&&(y.setOptions(a),h())}function w(a){if(y){var b=parseInt(y.getOption("fontSize"),10);y.setOption("fontSize",b+a),h()}}function x(){y&&y.focus()}var y=null,z=[],A=[],B=this;this.aceLoaded=g,this.resize=l,this.ready=m,this.annotateYAMLErrors=e,this.clearAnnotation=f,this.getAllFolds=n,this.getLine=o,this.onFoldChanged=p,this.addFold=q,this.removeFold=r,this.gotoLine=s,this.lineInFocus=t,this.showSettings=u,this.saveEditorSettings=h,this.adjustFontSize=w,this.resetSettings=v,this.focus=x}]),SwaggerEditor.service("Builder",["$q",function(a){function b(b){var c,d=a.defer();if(!b)return d.reject({specs:null,errors:[{emptyDocsError:"Empty Document Error"}]}),d.promise;try{c=e(b)}catch(g){return d.reject({errors:[{yamlError:g}],specs:null}),d.promise}if(c&&angular.isObject(c.definitions))for(var h in c.definitions)_.isEmpty(c.definitions[h].title)&&(c.definitions[h].title=h);return f.validate(c,function(a,b){return a?d.reject({specs:c,errors:[a]}):b&&b.errors&&b.errors.length?d.reject(_.extend({specs:c},b)):void JsonRefs.resolveRefs(c,function(a,e){return a?d.reject({errors:[a],specs:c}):void d.resolve(_.extend({specs:e},b))})}),d.promise}function c(a,b,c){var d,f=null;try{d=e(a)}catch(g){f={yamlError:g}}return f||(c.paths[b]=d[b]),{specs:c,error:f}}function d(a,b){return _.pick(a.paths,b)}var e=jsyaml.load,f=SwaggerTools.specs.v2;
this.buildDocs=b,this.updatePath=c,this.getPath=d}]),SwaggerEditor.service("ASTManager",function(){function a(a){a=a||"";try{m=a,k=yaml.compose(a),b()}catch(c){console.warn("Failed to refresh line numbers",c)}}function b(){l.forEach(function(a){a()})}function c(a,b){var d;if(b=b||k,!b)return b;if(!Array.isArray(a))throw new Error("Need path to find the node in the AST");if(!a.length)return b;if(d=a.shift(),b.tag===h)for(var e=0;e<b.value.length;e++){var f=b.value[e];if(f[0].value===d)return c(a,f[1])}else if(b.tag===i)return d=parseInt(d,10),b=b.value[d],c(a,b);return b}function d(a,b){var c;if(a=a||k,!angular.isObject(a)||!a.value)return a;if(a.start_mark.line===b)return a;for(var e=0;e<a.value.length;e++)if(a.tag===h?c=d(a.value[e][1],b):a.tag===i&&(c=d(a.value[e],b)),c)return c;return null}function e(a){var b=c(a);return b?b.start_mark.line:null}function f(b,c){function d(a,j){j&&(e=j.start_mark,f=j.end_mark,e.line===b&&f.line===b&&e.column<=c&&f.column>=c?g=a:j.tag===h?j.value.forEach(function(b){d(a,b[0]),d(a.concat(b[0].value),b[1])}):j.tag===i&&j.value.forEach(function(b,c){d(a.concat(c),b)}))}var e,f,g=[],l=m.split("\n"),n=null;if(b!==l.length-1&&0!==c&&!/.\: ./.test(l[b])){n=_.clone(m);for(var o=l.slice(0,b).join("\n")+"\n",p=l[b],q=p.split("");q.length&&" "!==q.pop();)o+=" ";a(o)}if(void 0===b)return g;if(d([],k),k&&k.end_mark.line===b&&0===g.length)for(var r=k;c>0;)r.tag===h&&(g.push(r.value[r.value.length-1][0].value),r=r.value[r.value.length-1][1]),c-=j;return n&&a(n),g}function g(a,b,c){c="undefined"==typeof c?b.folded:!c,c?(a.removeFold(b.start_mark.line),b.folded=!1):(a.addFold(b.start_mark.line-1,b.end_mark.line-1),b.folded=!0)}var h="tag:yaml.org,2002:map",i="tag:yaml.org,2002:seq",j=2,k={},l=[],m="";this.onFoldChanged=function(a){var c=a.data.start.row+1,e="remove"!==a.action,f=d(k,c);f&&(f.folded=e),b()},this.toggleFold=function(a,d){var e=c(a,k);e&&e.start_mark&&(g(d,e),b())},this.setFoldAll=function(a,d,e){for(var f,j=c(a,k),l=0;l<j.value.length;l++)j.tag===h?f=j.value[l][1]:j.tag===i&&(f=j.value[l]),g(e,f,d);b()},this.isFolded=function(a){var b=c(a,k);return angular.isObject(b)&&!!b.folded},this.isAllFolded=function(a){var b,d=c(a);if(!d||!Array.isArray(d.value))return!1;for(var e=0;e<d.value.length;e++)if(d.tag===h?b=d.value[e][1]:d.tag===i&&(b=d.value[e]),!b.folded)return!1;return!0},this.onFoldStatusChanged=function(a){l.push(a)},this.refresh=a,this.lineForPath=e,this.pathForPosition=f}),SwaggerEditor.service("BackendHealthCheck",["$http","$interval","defaults","Storage",function(a,b,c,d){var e=!0;this.startChecking=function(){c.useBackendForStorage&&b(function(){a.get(window.location.href).then(function(){e=!0},function(){e=!1,d.save("progress",-2)})},c.backendHealthCheckTimeout)},this.isHealthy=function(){return e}}]),SwaggerEditor.service("Codegen",["$http","defaults","Storage",function(a,b,c){function d(a){angular.isObject(a)&&a.code&&(window.location=a.data.code)}this.getServers=function(){return a.get(b.codegen.servers).then(function(a){return a.data})},this.getClients=function(){return a.get(b.codegen.clients).then(function(a){return a.data})},this.getServer=function(e){var f=_.template(b.codegen.server)({language:e});return c.load("yaml").then(function(b){var c=jsyaml.load(b);return a.post(f,{swagger:c}).then(d)})},this.getClient=function(e){var f=_.template(b.codegen.client)({language:e});return c.load("yaml").then(function(b){var c=jsyaml.load(b);return a.post(f,{swagger:c}).then(d)})}}]),SwaggerEditor.service("FocusedPath",["ASTManager","Editor",function(a,b){this.isInFocus=function(c){var d=b.lineInFocus(),e=a.pathForPosition(d);return Array.isArray(e)&&_.isEqual(c,e.slice(0,c.length))}}]),SwaggerEditor.service("Storage",["LocalStorage","Backend","defaults",function(a,b,c){return c.useBackendForStorage?b:a}]),SwaggerEditor.service("LocalStorage",["$localStorage","$q","$rootScope","Embedded",function(a,b,c,d){var e="SwaggerEditorCache",f={},g=this;a[e]=a[e]||{},this.save=function(b,c){null!==c&&(Array.isArray(f[b])&&f[b].forEach(function(a){a(c)}),_.debounce(function(){window.requestAnimationFrame(function(){a[e][b]=c})},100)())},this.reset=function(){Object.keys(a[e]).forEach(function(a){g.save(a,"")})},this.load=function(f){var g=b.defer();return g.resolve("docs-only"===c.mode&&"yaml"===f&&d.get()?d.get():f?a[e][f]:a[e]),g.promise},this.addChangeListener=function(a,b){angular.isFunction(b)&&(f[a]||(f[a]=[]),f[a].push(b))}}]),SwaggerEditor.service("Backend",["$http","$q","defaults","Builder",function(a,b,c,d){function e(b){var e=d.buildDocs(b,{resolve:!0});e.error||a.put(c.backendEndpoint,b)}function f(){}var g={},h={},i=_.throttle(e,200,{leading:!1,trailing:!0});this.save=function(a,b){h[a]=b,Array.isArray(g[a])&&g[a].forEach(function(a){a(b)}),c.useYamlBackend&&"yaml"===a&&b?i(b):"specs"===a&&b&&i(h[a])},this.reset=f,this.load=function(d){if("yaml"!==d){var e=b.defer();return d?e.resolve(h[d]):e.reject(),e.promise}return a.get(c.backendEndpoint).then(function(a){return c.useYamlBackend?(h.yaml=a.data,h.yaml):a.data})},this.addChangeListener=function(a,b){angular.isFunction(b)&&(g[a]||(g[a]=[]),g[a].push(b))}}]),SwaggerEditor.service("KeywordMap",["defaults",function(a){var b={name:String,"in":String,description:String,required:String,type:String,format:String},c={".":String},d={description:String,schema:{type:String},headers:{".":String},examples:{".":String}},e={summary:String,description:String,schemes:{".":String},externalDocs:{".":String},operationId:String,produces:{".":String},consumes:{".":String},deprecated:Boolean,security:c,parameters:{".":b},responses:{".":d},tags:{".":String}},f={swagger:String,info:{version:String,title:String,description:String,termsOfService:String,contact:{name:String,url:String,email:String},license:{name:String,url:String}},host:String,schemas:{".":String},basePath:String,produces:{".":String},consumes:{".":String},paths:{".":{parameters:b,".":e}},definitions:{".":{properties:{".":String}}},parameters:{".":b},responses:{".":d},security:{".":{".":String}},securityDefinitions:{".":{".":String}},tags:{".":String},externalDocs:{".":String}};this.get=function(){var b=angular.isObject(a.autocompleteExtension)?a.autocompleteExtension:{};return _.extend(f,b)}}]),SwaggerEditor.service("Preferences",["$localStorage",function(a){function b(){a.preferences=d}var c={liveRender:!0},d=a.preferences||c;this.get=function(a){return d[a]},this.set=function(a,c){if(void 0===c)throw new Error("value was undefined");d[a]=c,b()},this.reset=function(){d=c,b()},this.getAll=function(){return d}}]),SwaggerEditor.service("AuthManager",["$sessionStorage",function(a){a.$default({securities:{}});var b=a.securities;this.basicAuth=function(a,c,d){if(!(angular.isObject(d)&&d.username&&d.password))throw new Error("Can not authenticate with options");d.isAuthenticated=!0,d.base64=window.btoa(d.username+":"+d.password),d.securityName=a,b[a]={type:"basic",security:c,options:d}},this.oAuth2=function(a,c,d){d.isAuthenticated=!0,b[a]={type:"oAuth2",security:c,options:d}},this.apiKey=function(a,c,d){d.isAuthenticated=!0,b[a]={type:"apiKey",security:c,options:d}},this.getAuth=function(a){return b[a]},this.securityIsAuthenticated=function(a){var c=b[a];return c&&c.options&&c.options.isAuthenticated}}]),SwaggerEditor.service("Embedded",["defaults",function(a){var b=$("#embedded-swagger").text(),c=["___","YAML","___"].join(""),d=["___","TITLE","___"].join(""),e=["___","DEFAULTS","___"].join("");try{var f=JSON.parse(b);b=jsyaml.dump(f),console.info("Embedded swagger document is in JSON format")}catch(g){console.info("Embedded swagger document is in YAML format")}this.get=function(){return b===c?null:b},this.template=function(b){return $.get("embedded-docs.html").then(function(f){var g="Swagger";return f.replace(c,b).replace(d,g).replace(e,JSON.stringify(a))})}}]),SwaggerEditor.service("Analytics",["defaults",function(a){var b=!1,c=!1,d=_.defaults(a,{analytics:{google:{id:null}}}).analytics.google.id;this.initialize=function(){var a=window.ga;return window.ga&&d?void(c||(a("require","linker"),a("linker:autoLink",["swagger.io"]),a("create",d,"auto",{allowLinker:!0}),a("send","pageview"),c=!0)):void(b=!0)},this.sendEvent=function(){if(!b){if(!arguments.length)throw new Error("sendEvent was called with no arguments");Array.prototype.unshift.call(arguments,"event"),Array.prototype.unshift.call(arguments,"send"),window.ga.apply(window.ga,arguments)}}}]),SwaggerEditor.config(["$compileProvider","$stateProvider","$urlRouterProvider",function(a,b,c){c.otherwise("/"),b.state("home",{url:"/{mode}?import&tags",views:{"":{templateUrl:function(a){return"preview"===a.mode?"views/main-preview.html":"views/main.html"},controller:"MainCtrl"},"header@home":{templateUrl:"views/header/header.html",controller:"HeaderCtrl"},"editor@home":{templateUrl:"views/editor/editor.html",controller:"EditorCtrl"},"preview@home":{templateUrl:"views/preview/preview.html",controller:"PreviewCtrl"}}}),a.aHrefSanitizationWhitelist(".")}]),function(a){a.fn.scrollIntoView=function(b,c,d){function e(b,c){void 0===c?a.isFunction(f.complete)&&f.complete.call(b):f.smooth?a(b).stop().animate({scrollTop:c},f):(b.scrollTop=c,a.isFunction(f.complete)&&f.complete.call(b))}var f=a.extend({},a.fn.scrollIntoView.defaults);"object"==a.type(b)?a.extend(f,b):"number"==a.type(b)?a.extend(f,{duration:b,easing:c,complete:d}):0==b&&(f.smooth=!1);var g=1/0,h=0;1==this.size()?null==(g=this.get(0).offsetTop)||(h=g+this.get(0).offsetHeight):this.each(function(a,b){b.offsetTop<g?g=b.offsetTop:b.offsetTop+b.offsetHeight>h?h=b.offsetTop+b.offsetHeight:null}),h-=g;for(var i=this.commonAncestor().get(0),j=a(window).height();i;){var k=i.scrollTop,l=i.clientHeight;if(l>j&&(l=j),0==l&&"BODY"==i.tagName&&(l=j),i.scrollTop!=(null==(i.scrollTop+=1)||i.scrollTop)&&null!=(i.scrollTop-=1)||i.scrollTop!=(null==(i.scrollTop-=1)||i.scrollTop)&&null!=(i.scrollTop+=1))return void(k>=g?e(i,g):g+h>k+l?e(i,g+h-l):e(i,void 0));i=i.parentNode}return this},a.fn.scrollIntoView.defaults={smooth:!0,duration:null,easing:a.easing&&a.easing.easeOutExpo?"easeOutExpo":null,complete:a.noop(),step:null,specialEasing:{}},a.fn.isOutOfView=function(a){var b=!0;return this.each(function(){var c=this.parentNode,d=c.scrollTop,e=c.clientHeight,f=this.offsetTop,g=this.offsetHeight;(a?f>d+e:f+g>d+e)||(a?d>f+g:d>f)||(b=!1)}),b},a.fn.commonAncestor=function(){var b=[],c=1/0;a(this).each(function(){var d=a(this).parents();b.push(d),c=Math.min(c,d.length)});for(var d=0;d<b.length;d++)b[d]=b[d].slice(b[d].length-c);for(var d=0;d<b[0].length;d++){var e=!0;for(var f in b)if(b[f][d]!=b[0][d]){e=!1;break}if(e)return a(b[0][d])}return a([])}}(jQuery);